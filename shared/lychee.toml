# Shared Lychee configuration for Hugo documentation sites
# Industry-standard link checker configuration

# Output format
format = "compact"

# Verbose output for debugging
# verbose = "false"

# Progress indicator
progress = true

# Concurrent requests for performance
max_concurrency = 8

# Request timeout in seconds
timeout = 10

# User agent
user_agent = "lychee/0.21.0 (+https://github.com/lycheeverse/lychee)"

# Retry failed requests
max_retries = 2

# Retry wait time in seconds
retry_wait_time = 1

# Accept status codes (in addition to 2xx)
accept = [200, 201, 202, 204, 429]

# Exclude common false positives
exclude = [
    # Local development
    "localhost",
    "127.0.0.1",
    "0.0.0.0",
    
    # External services that block crawlers
    "fonts.googleapis.com",
    "fonts.gstatic.com",
    "twitter.com",
    "facebook.com",
    "instagram.com",
    
    # Documentation sites that can be temperamental
    "docs.microsoft.com",
    "learn.microsoft.com",
    "docs.godotengine.org",
    
    # GitHub links that might require auth
    "github.com.*/issues/new",
    "github.com.*/discussions/new",
    
    # Hugo development URLs
    ".pages.dev",
    
    # Example domains
    "example.com",
    "*.example.com",
    
    # Internal API reference pages (not created yet)
    "/item_drops/api-reference/",
    "/grid_building/api-reference/",
    "/world_time/api-reference/",
    "/company/api-reference/",
    
    # Integration guide pages (not created yet)
    "/item_drops/integration-guide/",
    "/grid_building/integration-guide/",
    "/world_time/integration-guide/",
    "/company/integration-guide/",
    
    # Directory links without index files
    "/item_drops/examples/",
    "/grid_building/examples/",
    "/world_time/examples/",
    "/company/examples/",
    
    # Relative paths to non-existent files
    "./testproject/",
    "./data-driven.md",
    "./migration.md",
    "../advanced/",
]

# Exclude file patterns
exclude_file = [
    # Hugo template files
    "*.tmpl",
    "*.html.tmpl",
    
    # Temporary files
    "tmp/*",
    ".git/*",
    
    # Node modules (if any)
    "node_modules/*",
]

# Include file patterns
include_file = [
    "*.html",
    "*.htm",
    "*.md",
    "*.markdown",
]

# Skip verification of SSL certificates (for problematic sites)
insecure = false

# Follow redirects
method = "get"

# Cache configuration
cache = true
cache_expires = 86400  # 24 hours in seconds

# Base URL for relative links (empty for auto-detection)
# base_url = ""

# Root directory for file resolution
# root_dir = ""

# Map file extensions to content types
default_extension = "html"

# Exclude mailto links
exclude_mail = false

# Exclude private IP addresses
exclude_private = true

# Exclude all private IPs (local, link-local, etc.)
exclude_all_private = true

# Exclude links to same page (anchors)
exclude_link_local = false

# Ignore fragments (hashes) in URLs
ignore_fragments = false
