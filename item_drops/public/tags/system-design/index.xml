<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>System-Design on Item Drops</title>
    <link>http://127.0.0.1:1315/tags/system-design/</link>
    <description>Recent content in System-Design on Item Drops</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 01 Dec 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://127.0.0.1:1315/tags/system-design/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>System Architecture Overview</title>
      <link>http://127.0.0.1:1315/item_drops/architecture/system-overview/</link>
      <pubDate>Mon, 01 Dec 2025 00:00:00 +0000</pubDate>
      <guid>http://127.0.0.1:1315/item_drops/architecture/system-overview/</guid>
      <description>&lt;h2 id=&#34;-high-level-architecture&#34;&gt;ğŸ—ï¸ High-Level Architecture&lt;/h2&gt;&#xA;&lt;p&gt;The Item Drops plugin follows a layered architecture pattern that separates concerns and provides flexibility for different game types.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&#xA;â”‚   Godot Layer   â”‚    â”‚  Service Layer  â”‚    â”‚   Core Layer    â”‚&#xA;â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚&#xA;â”‚ â€¢ ItemDrops     â”‚â—„â”€â”€â–ºâ”‚ â€¢ Drop Service  â”‚â—„â”€â”€â–ºâ”‚ â€¢ LootGenerator â”‚&#xA;â”‚   Node          â”‚    â”‚ â€¢ Inventory     â”‚    â”‚ â€¢ DropTable     â”‚&#xA;â”‚ â€¢ UI Components â”‚    â”‚   Service       â”‚    â”‚ â€¢ DropContext   â”‚&#xA;â”‚ â€¢ Physics       â”‚    â”‚ â€¢ Rule Service  â”‚    â”‚ â€¢ Modifiers     â”‚&#xA;â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;-core-components&#34;&gt;ğŸ“¦ Core Components&lt;/h2&gt;&#xA;&lt;h3 id=&#34;loot-generation-engine&#34;&gt;Loot Generation Engine&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;LootGenerator&lt;/code&gt;&lt;/strong&gt; - Main engine for generating drops&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;DropTable&lt;/code&gt;&lt;/strong&gt; - Configuration for possible drops&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;DropContext&lt;/code&gt;&lt;/strong&gt; - Contextual data for generation&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;Modifiers&lt;/code&gt;&lt;/strong&gt; - System for modifying drop behavior&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;data-management&#34;&gt;Data Management&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;ItemData&lt;/code&gt;&lt;/strong&gt; - Item definitions and properties&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;DropResult&lt;/code&gt;&lt;/strong&gt; - Generated drop information&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;DropInstance&lt;/code&gt;&lt;/strong&gt; - Runtime drop instances&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;integration-layer&#34;&gt;Integration Layer&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;IItemProvider&lt;/code&gt;&lt;/strong&gt; - Item database integration&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;IInventoryIntegration&lt;/code&gt;&lt;/strong&gt; - Inventory system integration&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;IDropOddsResolver&lt;/code&gt;&lt;/strong&gt; - Custom drop probability logic&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;-key-interfaces&#34;&gt;ğŸ”— Key Interfaces&lt;/h2&gt;&#xA;&lt;h3 id=&#34;ilootgenerator&#34;&gt;ILootGenerator&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ILootGenerator&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Id { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Name { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Description { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; Priority { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; IsEnabled { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    DropResult GenerateLoot(DropContext context);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; CanGenerate(DropContext context);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; IsValid();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;idrop&#34;&gt;IDrop&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IDrop&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; ItemId { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;float&lt;/span&gt; Weight { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    ItemRarity Rarity { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; MinQuantity { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; MaxQuantity { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; CanDrop(DropContext context);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;iitemprovider&#34;&gt;IItemProvider&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;IItemProvider&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Id { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Name { &lt;span style=&#34;color:#66d9ef&#34;&gt;get&lt;/span&gt;; }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IItemData? GetItemData(&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; itemId);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; HasItem(&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; itemId);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    IEnumerable&amp;lt;&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&amp;gt; GetAllItemIds();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; IsValid();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;-design-patterns&#34;&gt;ğŸ¯ Design Patterns&lt;/h2&gt;&#xA;&lt;h3 id=&#34;strategy-pattern&#34;&gt;Strategy Pattern&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Drop Modifiers&lt;/strong&gt; - Different strategies for modifying drops&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Odds Resolvers&lt;/strong&gt; - Different probability calculation strategies&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Item Providers&lt;/strong&gt; - Different item database implementations&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;builder-pattern&#34;&gt;Builder Pattern&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;DropTableBuilder&lt;/strong&gt; - Fluent configuration of drop tables&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;LootGenerationSettings&lt;/strong&gt; - Configuration for generation&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;factory-pattern&#34;&gt;Factory Pattern&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;ConditionFactory&lt;/strong&gt; - Creates drop conditions&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;ModifierFactory&lt;/strong&gt; - Creates drop modifiers&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;-data-flow&#34;&gt;ğŸ”„ Data Flow&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;1. Game Request â†’ LootGenerator&#xA;2. Context Setup â†’ DropContext&#xA;3. Table Selection â†’ DropTable&#xA;4. Modifier Application â†’ Modified Settings&#xA;5. Generation â†’ DropResult[]&#xA;6. Post-Processing â†’ Final Drops&#xA;7. Integration â†’ Game Systems&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;example-flow&#34;&gt;Example Flow&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 1. Create generator&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; generator = &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; LootGenerator();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 2. Set up context&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; context = &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; DropContext();&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;context.SetData(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayerLevel&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;context.SetData(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;LuckModifier&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1.5f&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 3. Add modifiers&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;generator.AddModifier(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; LuckModifier(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.2f&lt;/span&gt;));&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;generator.AddModifier(&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; LevelBonusModifier(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1.3f&lt;/span&gt;));&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 4. Generate drops&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; drops = generator.GenerateLoot(dropTable, context);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// 5. Process results&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;foreach&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; drop &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; drops)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inventorySystem.AddItem(drop.ItemId, drop.Quantity);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;-testing-architecture&#34;&gt;ğŸ§ª Testing Architecture&lt;/h2&gt;&#xA;&lt;h3 id=&#34;unit-tests&#34;&gt;Unit Tests&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Core Logic Tests&lt;/strong&gt; - Drop generation, probability calculations&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Modifier Tests&lt;/strong&gt; - Individual modifier behavior&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Interface Tests&lt;/strong&gt; - Contract compliance&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;integration-tests&#34;&gt;Integration Tests&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;End-to-End Tests&lt;/strong&gt; - Complete drop generation flows&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Performance Tests&lt;/strong&gt; - Large-scale generation scenarios&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Game Integration Tests&lt;/strong&gt; - Real-world usage scenarios&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;test-structure&#34;&gt;Test Structure&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Core/Tests/&#xA;â”œâ”€â”€ Conditions/&#xA;â”œâ”€â”€ DataDriven/&#xA;â”œâ”€â”€ Drops/&#xA;â”œâ”€â”€ Generation/&#xA;â”œâ”€â”€ Modifiers/&#xA;â””â”€â”€ Probability/&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;-configuration-architecture&#34;&gt;ğŸ”§ Configuration Architecture&lt;/h2&gt;&#xA;&lt;h3 id=&#34;data-driven-configuration&#34;&gt;Data-Driven Configuration&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;YAML/JSON Support&lt;/strong&gt; - External configuration files&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Schema Validation&lt;/strong&gt; - Ensure configuration validity&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Hot Reloading&lt;/strong&gt; - Runtime configuration updates&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;runtime-configuration&#34;&gt;Runtime Configuration&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Drop Tables&lt;/strong&gt; - Runtime modification support&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Modifiers&lt;/strong&gt; - Dynamic addition/removal&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Context Data&lt;/strong&gt; - Runtime context manipulation&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;-performance-considerations&#34;&gt;ğŸš€ Performance Considerations&lt;/h2&gt;&#xA;&lt;h3 id=&#34;optimization-strategies&#34;&gt;Optimization Strategies&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Object Pooling&lt;/strong&gt; - Reuse drop instances&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Lazy Loading&lt;/strong&gt; - Load item data on demand&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Caching&lt;/strong&gt; - Cache expensive calculations&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Batch Processing&lt;/strong&gt; - Process multiple drops efficiently&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;memory-management&#34;&gt;Memory Management&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Struct Usage&lt;/strong&gt; - Minimize heap allocations&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Disposable Pattern&lt;/strong&gt; - Clean up resources&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Weak References&lt;/strong&gt; - Avoid memory leaks&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;-extensibility-points&#34;&gt;ğŸ”Œ Extensibility Points&lt;/h2&gt;&#xA;&lt;h3 id=&#34;custom-modifiers&#34;&gt;Custom Modifiers&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CustomModifier&lt;/span&gt; : ILootModifier&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Id =&amp;gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;custom_modifier&amp;#34;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; Name =&amp;gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Custom Drop Modifier&amp;#34;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; LootGenerationSettings ModifySettings(LootGenerationSettings settings)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// Custom modification logic&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; settings;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;custom-conditions&#34;&gt;Custom Conditions&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CustomCondition&lt;/span&gt; : IDropCondition&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt; CanDrop(IDrop drop, DropContext context)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// Custom condition logic&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; context.GetData&amp;lt;&lt;span style=&#34;color:#66d9ef&#34;&gt;bool&lt;/span&gt;&amp;gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;CustomCondition&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;custom-providers&#34;&gt;Custom Providers&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-csharp&#34; data-lang=&#34;csharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CustomItemProvider&lt;/span&gt; : IItemProvider&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; IItemData? GetItemData(&lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt; itemId)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;// Custom item lookup logic&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; customDatabase.GetItem(itemId);&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;p&gt;&lt;em&gt;This architecture documentation is intended for developers extending the Item Drops plugin&lt;/em&gt;&lt;br&gt;&#xA;&lt;em&gt;For usage documentation, see the &lt;a href=&#34;../getting-started/&#34;&gt;Getting Started&lt;/a&gt; guide&lt;/em&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
