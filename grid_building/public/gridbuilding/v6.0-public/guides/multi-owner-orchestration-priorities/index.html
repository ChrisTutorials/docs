<!doctype html><html lang=en-us><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Multi-Owner Orchestration Priorities (v6.0) | GridBuilding Plugin</title>
<meta name=description content="Living backlog for the GridBuilding multi-owner/session orchestration layer."><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hugo 0.146.5"></head><body><div class=gb-layout><header class=gb-header><a href=/ class=gb-brand><i class="fas fa-cubes" style=color:var(--gb-primary)></i>
<span>GridBuilding Plugin</span></a><div class=gb-search><i class="fas fa-search"></i>
<input type=text placeholder="Search documentation..." aria-label=Search></div><nav class=gb-nav><a href=/ class=gb-nav-link>Home
</a><a href=/v6.0/overview/ class=gb-nav-link>Documentation
</a><a href=/v5.1/overview/ class=gb-nav-link>Grid Building Plugin Overview
</a><a href=/v6.0/api/ class=gb-nav-link>API Reference
</a><a href=/v5.1/guides/ class=gb-nav-link>Getting Started Guides
</a><a href=/v6.0/examples/ class=gb-nav-link>Examples
</a><a href=/v5.1/examples/ class=gb-nav-link>Code Examples
</a><a href=/community/ class=gb-nav-link>Community
</a><a href=/v5.1/architecture-diagrams/ class=gb-nav-link>Architecture Diagrams</a></nav></header><aside class=gb-sidebar><nav class=gb-sidebar-nav><div class=gb-sidebar-section><div class=gb-sidebar-title>V6.0s</div><a href=/v6.0/guides/6-0-readiness-status/ class=gb-sidebar-link>GridBuilding 6.0 Readiness Status
</a><a href=/v6.0/guides/getting_started/ class=gb-sidebar-link>Getting Started with GridBuilding
</a><a href=/v6.0/guides/mode-architecture/ class=gb-sidebar-link>GridBuilding 6.0 Mode Architecture
</a><a href=/v6.0/guides/gdscript-to-csharp-mapping/ class=gb-sidebar-link>GDScript to C# Migration Guide
</a><a href=/v6.0/guides/csharp_state_integration/ class=gb-sidebar-link>C# State Integration with Godot Frontend
</a><a href=/v6.0/guides/troubleshooting/ class=gb-sidebar-link>Troubleshooting Guide
</a><a href=/v6.0/examples/godot_integration_example/ class=gb-sidebar-link>Godot Integration Example
</a><a href=/gridbuilding/v6.0-public/guides/dependency-resolution/ class=gb-sidebar-link>Dependency Resolution in GridBuilding v6.0 (Godot)
</a><a href=/gridbuilding/v6.0-public/guides/userid-quickstart/ class=gb-sidebar-link>Quick Start: Game-Owned UserId & Multi-Owner Orchestrators
</a><a href=/gridbuilding/v6.0-public/guides/building-system-architecture/ class=gb-sidebar-link>BuildingSystem Architecture (Legacy Session Orchestrator)
</a><a href=/gridbuilding/v6.0-public/guides/multi-owner-orchestration-priorities/ class="gb-sidebar-link active">Multi-Owner Orchestration Priorities (v6.0)
</a><a href=/gridbuilding/v6.0/guides/placement-system-architecture/ class=gb-sidebar-link>Placement System and Architecture in GridBuilding v6.0 (Godot)
</a><a href=/gridbuilding/v6.0-public/guides/manipulation-system-architecture/ class=gb-sidebar-link>ManipulationSystemNode Architecture (Session Orchestrator)
</a><a href=/v6.0/guides/service_based_architecture/ class=gb-sidebar-link>Service-Based Architecture
</a><a href=/gridbuilding/v6-0/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.1.0</div><a href=/v5.1/overview/ class=gb-sidebar-link>Grid Building Plugin Overview
</a><a href=/v5.1/guides/ class=gb-sidebar-link>Getting Started Guides
</a><a href=/v5.1/api/ class=gb-sidebar-link>C# API Reference
</a><a href=/v5.1/examples/ class=gb-sidebar-link>Code Examples
</a><a href=/v5.1/architecture-diagrams/ class=gb-sidebar-link>Architecture Diagrams
</a><a href=/v5.1/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.1/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.1/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.1/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.0.0</div><a href=/v5.0/api/ class=gb-sidebar-link>GDScript API Reference
</a><a href=/v5.0/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.0/overview/ class=gb-sidebar-link>Grid Building Plugin v5.0.0
</a><a href=/v5.0/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.0/guides/ class=gb-sidebar-link>Plugin Overview
</a><a href=/v5.0/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.0/validation/ class=gb-sidebar-link>Validation Tools</a></div></nav></aside><main class=gb-main><div class=gb-content><h1>Multi-Owner Orchestration Priorities (v6.0)</h1><blockquote><p><strong>Note:</strong> The v6.0 documentation tracks the in-progress <strong>Grid Placement 6.0 (C#)</strong> line.
It is an internal roadmap/preview and should not be treated as a promised public release or timeline.
The current GDScript release line is <strong>v5.1</strong>.</p></blockquote><h1 id=multi-owner-orchestration-priorities-v60>Multi-Owner Orchestration Priorities (v6.0)</h1><p><em>Status: living document</em></p><p>Scope: architecture that orchestrates <strong>one BuildingSystem</strong>, <strong>one Manipulation system</strong>, and <strong>multiple owners/users + their UI/controllers</strong> without exported node references, using <strong>ServiceCompositionRoot + ServiceRegistry</strong> and session/user scopes.</p><h2 id=priority-backlog>Priority Backlog</h2><ol><li><p><strong>P1 – Session/User API definition</strong><br>Define the concrete API for session and user scopes: user handle/ID type, how user scope is retrieved, and what data/surfaces it exposes to systems and controllers.</p></li><li><p><strong>P2 – Godot roots (<code>SessionRoot</code> / <code>OwnerRoot</code>)</strong><br>Implement Godot nodes that represent a session and owners in the scene tree and hand out the correct scoped services (no exported refs).</p></li><li><p><strong>P3 – Systems contract update</strong><br>Ensure session-level systems (BuildingSystem, ManipulationSystemNode) accept owner handles and targeting data instead of reading player-specific nodes directly.</p></li><li><p><strong>P4 – Mode & selection routing</strong><br>Centralize mode, selection, and preview state in owner scopes and remove remaining direct ModeState/BuildingMode coupling where possible.</p></li><li><p><strong>P5 – Per-owner controllers & UI</strong><br>Define the standard pattern for owner input controllers and UI roots that resolve services via their OwnerRoot.</p></li><li><p><strong>P6 – Targeting integration</strong><br>Bind targeting/positioning nodes to owner scopes while sharing session-level targeting/grid systems.</p></li><li><p><strong>P7 – Single-owner bootstrap</strong><br>Provide a minimal GridBuildingCompositionRoot-style entry point for simple single-owner scenes that uses the same architecture.</p></li><li><p><strong>P8 – Two-owner demo + tests</strong><br>Create a reference scene and GoDotTest suite with two owners sharing one session and systems.</p></li><li><p><strong>P9 – Legacy bridge notes</strong><br>Document how CompositionContainer-based helpers can be hosted under the new roots without exported refs.</p></li></ol><h2 id=p1--sessionuser-api-draft>P1 – Session/User API (draft)</h2><p>Goal: a small, stable set of Core types that all higher layers use when talking about <strong>who</strong> is acting in a session.</p><h3 id=1-user-identity>1. User identity</h3><ul><li><p>Introduce a strongly-typed user identifier in Core, e.g.:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#8b949e;font-style:italic>// Core/Types/UserId.cs (conceptual)</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>public</span> <span style=color:#ff7b72>readonly</span> <span style=color:#ff7b72>record</span> <span style=color:#f0883e;font-weight:700>struct</span> UserId(Guid Value);
</span></span></code></pre></td></tr></table></div></div></li><li><p>Properties:</p><ul><li>Stable within a session.</li><li>Comparable and usable as dictionary key.</li><li>Optionally paired with human-readable metadata via an owner registry/service (not baked into the ID type).</li></ul></li></ul><h3 id=2-session-and-user-scopes-conceptual-responsibilities>2. Session and user scopes (conceptual responsibilities)</h3><ul><li><p><strong>Session scope (IGridBuildingSession)</strong> – one per session:</p><ul><li>Knows global world/grid rules and configuration.</li><li>Can resolve <strong>user scopes</strong> given a <code>UserId</code>.</li><li>Exposes access to shared services already registered in the ServiceRegistry (placement, manipulation, targeting, etc.).</li></ul></li><li><p><strong>User scope (IUserScope)</strong> – one per <code>(session, user)</code> pair:</p><ul><li>Holds per-user state:<ul><li>Mode / build mode, selection & preview state, user queues.</li><li>References to user-specific targeting views, if needed.</li></ul></li><li>Provides a place for per-user services (e.g. user-focused command queues or analytics).</li></ul></li></ul><blockquote><p>Note: For v6.0, we can implement these initially as lightweight wrappers over the existing ServiceRegistry + state objects, then evolve them as needed.</p></blockquote><h3 id=3-how-systems-receive-user-context>3. How systems receive user context</h3><ul><li><p>Session-level systems (e.g. BuildingSystem, ManipulationSystemNode) should:</p><ul><li>Take a <code>UserId</code> parameter on all entry points that represent a user action.</li><li>Use the session object (or a helper/service) to pull the <strong>user scope</strong> for that <code>UserId</code>.</li><li>Never read player-specific UI nodes directly.</li></ul></li><li><p>Conceptual API sketch (Godot side uses this via injected services). These</p></li><li><p>now map directly to concrete Core interfaces <code>IPlacementCommands</code> and</p></li><li><p><code>IManipulationCommands</code>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp><span style=display:flex><span><span style=color:#ff7b72>public</span> <span style=color:#ff7b72>interface</span> <span style=color:#f0883e;font-weight:700>IPlacementCommands</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    PlacementResult TryPlace(UserId user, Placeable placeable, Vector2 worldPosition);
</span></span><span style=display:flex><span>    PlacementResult TryDemolish(UserId user, Vector2 worldPosition);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>public</span> <span style=color:#ff7b72>interface</span> <span style=color:#f0883e;font-weight:700>IManipulationCommands</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    ManipulationResult TryMove(UserId user, Vector2I <span style=color:#ff7b72>from</span>, Vector2I to);
</span></span><span style=display:flex><span>    ManipulationResult TryRotateLeft(UserId user, Vector2I origin);
</span></span><span style=display:flex><span>    ManipulationResult TryRotateRight(UserId user, Vector2I origin);
</span></span><span style=display:flex><span>    ManipulationResult TryFlipHorizontal(UserId user, Vector2I origin);
</span></span><span style=display:flex><span>    ManipulationResult TryFlipVertical(UserId user, Vector2I origin);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>UI/controllers per user:</p><ul><li>Hold a <code>UserId</code> assigned during user creation.</li><li>On input, build a <code>TargetingSnapshot</code> from that user’s targeting node(s) and call the appropriate command interfaces with <code>(UserId, snapshot, ...)</code>.</li></ul></li></ul><h3 id=4-next-actions-for-p1>4. Next actions for P1</h3><ul><li><input disabled type=checkbox> Decide final naming/location for <code>UserId</code> and the session/user scope interfaces in Core.</li><li><input disabled type=checkbox> Align with existing services (<code>IModeService</code>, <code>IPlacementService</code>, <code>IManipulationService</code>) so that user-scoped state composes cleanly with them.</li><li><input disabled type=checkbox> Validate that the API works for single-user scenes and scales to multiple users without ambiguous responsibilities.</li></ul></div></main><aside class=gb-toc><div class=gb-toc-title>On this page</div><nav id=TableOfContents><ul><li><a href=#priority-backlog>Priority Backlog</a></li><li><a href=#p1--sessionuser-api-draft>P1 – Session/User API (draft)</a><ul><li><a href=#1-user-identity>1. User identity</a></li><li><a href=#2-session-and-user-scopes-conceptual-responsibilities>2. Session and user scopes (conceptual responsibilities)</a></li><li><a href=#3-how-systems-receive-user-context>3. How systems receive user context</a></li><li><a href=#4-next-actions-for-p1>4. Next actions for P1</a></li></ul></li></ul></nav></aside><footer class=gb-footer><p>&copy; 2025 Chris Tutorials. All rights reserved.</p><p>Built with <a href=https://gohugo.io/ target=_blank>Hugo</a> and
<a href=https://godotengine.org/ target=_blank>Godot</a>.</p></footer></div></body></html>