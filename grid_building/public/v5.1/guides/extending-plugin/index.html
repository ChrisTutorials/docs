<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Extending the Plugin | GridBuilding Plugin</title>
<meta name=description content="Guide for implementing game-specific features that build upon the Grid Building plugin's foundation without modifying the core plugin."><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hugo 0.146.5"></head><body><div class=gb-layout><header class=gb-header><a href=/ class=gb-brand><i class="fas fa-cubes" style=color:var(--gb-primary)></i>
<span>GridBuilding Plugin</span></a><div class=gb-search><i class="fas fa-search"></i>
<input type=text placeholder="Search documentation..." aria-label=Search></div><nav class=gb-nav><a href=/ class=gb-nav-link>Home
</a><a href=/v6.0/overview/ class=gb-nav-link>Documentation
</a><a href=/v5.1/overview/ class=gb-nav-link>Grid Building Plugin Overview
</a><a href=/v6.0/api/ class=gb-nav-link>API Reference
</a><a href=/v5.1/guides/ class=gb-nav-link>Getting Started Guides
</a><a href=/v6.0/examples/ class=gb-nav-link>Examples
</a><a href=/v5.1/examples/ class=gb-nav-link>Code Examples
</a><a href=/community/ class=gb-nav-link>Community
</a><a href=/v5.1/architecture-diagrams/ class=gb-nav-link>Architecture Diagrams</a></nav></header><aside class=gb-sidebar><nav class=gb-sidebar-nav><div class=gb-sidebar-section><div class=gb-sidebar-title>V6.0s</div><a href=/v6.0/guides/6-0-readiness-status/ class=gb-sidebar-link>GridBuilding 6.0 Readiness Status
</a><a href=/v6.0/guides/getting_started/ class=gb-sidebar-link>Getting Started with GridBuilding
</a><a href=/v6.0/guides/mode-architecture/ class=gb-sidebar-link>GridBuilding 6.0 Mode Architecture
</a><a href=/v6.0/guides/gdscript-to-csharp-mapping/ class=gb-sidebar-link>GDScript to C# Migration Guide
</a><a href=/v6.0/guides/csharp_state_integration/ class=gb-sidebar-link>C# State Integration with Godot Frontend
</a><a href=/v6.0/guides/troubleshooting/ class=gb-sidebar-link>Troubleshooting Guide
</a><a href=/v6.0/examples/godot_integration_example/ class=gb-sidebar-link>Godot Integration Example
</a><a href=/v6.0/guides/service_based_architecture/ class=gb-sidebar-link>Service-Based Architecture
</a><a href=/gridbuilding/v6-0/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.1.0</div><a href=/v5.1/overview/ class=gb-sidebar-link>Grid Building Plugin Overview
</a><a href=/v5.1/guides/ class=gb-sidebar-link>Getting Started Guides
</a><a href=/v5.1/api/ class=gb-sidebar-link>C# API Reference
</a><a href=/v5.1/examples/ class=gb-sidebar-link>Code Examples
</a><a href=/v5.1/architecture-diagrams/ class=gb-sidebar-link>Architecture Diagrams
</a><a href=/v5.1/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.1/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.1/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.1/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.0.0</div><a href=/v5.0/api/ class=gb-sidebar-link>GDScript API Reference
</a><a href=/v5.0/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.0/overview/ class=gb-sidebar-link>Grid Building Plugin v5.0.0
</a><a href=/v5.0/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.0/guides/ class=gb-sidebar-link>Plugin Overview
</a><a href=/v5.0/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.0/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>V6.0-Publics</div><a href=/gridbuilding/v6-0-public/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div></nav></aside><main class=gb-main><div class=gb-content><h1>Extending the Plugin</h1><hr><p>The Grid Building plugin provides <strong>foundational building mechanics</strong> - placement, validation, collision detection, and visual feedback. This guide explains how to extend the plugin with game-specific features while maintaining clear boundaries between core plugin functionality and custom game logic.</p><h2 id=plugin-scope-vs-game-specific-features>Plugin Scope vs Game-Specific Features</h2><h3 id=-what-the-plugin-provides-core-features>‚úÖ What the Plugin Provides (Core Features)</h3><p><strong>Core Building Mechanics:</strong></p><ul><li>Grid-based placement system</li><li>Collision detection and validation</li><li>Visual indicators (valid/invalid placement)</li><li>Rule-based placement validation</li><li>Mouse and keyboard input handling</li><li>Scene tree management for building objects</li></ul><p><strong>Architecture Components:</strong></p><ul><li><a href=../api/BuildingSystem/>BuildingSystem</a> - Core placement logic</li><li><a href=../api/GridPositioner2D/>GridPositioner2D</a> - Input handling and positioning</li><li><a href=../api/PlacementValidator/>PlacementValidator</a> - Rule validation system</li><li><a href=../api/CollisionMapper/>CollisionMapper</a> - Collision detection</li><li><a href=../api/IndicatorManager/>IndicatorManager</a> - Visual feedback</li><li><a href=../api/ManipulationSystem/>ManipulationSystem</a> - Object selection and manipulation</li></ul><p><strong>UI Templates (Advanced):</strong></p><ul><li><a href=../api/PlaceableSelectionUI/>PlaceableSelectionUI</a> - Unified selection interface supporting both individual placeables and sequences</li><li><a href=../api/PlaceableSequence/>PlaceableSequence</a> - Groups building variants for selection (Basic Tower ‚Üí Heavy Tower ‚Üí Rapid Tower)</li><li><a href=../api/PlaceableList/>PlaceableList</a> - Manages collections of placeables with variant cycling support</li></ul><h3 id=-what-the-plugin-does-not-provide-game-specific>‚ùå What the Plugin Does NOT Provide (Game-Specific)</h3><p><strong>Visual Representation & Rendering:</strong></p><ul><li>Sprite management and directional artwork</li><li>3D model rotation and orientation</li><li>Animation systems (idle, building, destruction)</li><li>Visual effects (particles, lighting, shaders)</li><li>Sprite swapping for directional buildings (e.g., isometric 4/8-directional sprites)</li></ul><p><strong>Economy & Progression:</strong></p><ul><li>Resource management and costs</li><li>Building upgrade systems</li><li>Tech trees and unlock progression</li><li>Economy balancing (gold, wood, stone costs)</li></ul><p><strong>Game Systems:</strong></p><ul><li>Combat stats and damage systems</li><li>Unit production queues</li><li>Defensive bonuses and area effects</li><li>Building health and destruction</li></ul><p><strong>Persistence & State:</strong></p><ul><li>Save/load system for game progress</li><li>Cloud saves and data persistence</li><li>Achievement tracking</li><li>Statistics and analytics</li></ul><p><strong>UI Styling & Custom Layouts:</strong></p><ul><li>Custom themed UI components</li><li>Radial menus or non-grid selection</li><li>HUD integration and minimap systems</li><li>Game-specific input handling (RTS controls, mobile touch patterns)</li></ul><p><strong>Why?</strong></p><ul><li><strong>Scope Management</strong>: Keeps plugin focused and maintainable</li><li><strong>Game Flexibility</strong>: Each game needs different implementations</li><li><strong>Performance</strong>: Games optimize differently based on their needs</li><li><strong>Design Freedom</strong>: Doesn&rsquo;t impose visual or gameplay constraints</li></ul><h2 id=-architectural-boundaries>üèß Architectural Boundaries</h2><h3 id=core-plugin-scope>Core Plugin Scope</h3><p>The Grid Building plugin provides <strong>foundational systems and UI templates</strong> for building placement:</p><p><strong>Always in Core:</strong></p><ul><li>Grid positioning and movement</li><li>Collision detection and validation</li><li>Placement rules and constraints</li><li>Basic visual feedback (indicators)</li><li>Scene management and object manipulation</li></ul><p><strong>UI Templates (Use or Customize):</strong></p><ul><li>Unified selection interface (<a href=../api/PlaceableSelectionUI/>PlaceableSelectionUI</a>) - handles both individual placeables and sequences</li><li>Building variant grouping (<a href=../api/PlaceableSequence/>PlaceableSequence</a>) - organize related building variants</li><li>Collection management (<a href=../api/PlaceableList/>PlaceableList</a>) - manage available placeables with cycling support</li></ul><p><strong>Game-Specific Extensions (Always Custom):</strong></p><ul><li>Building upgrade systems and progression trees</li><li>Resource costs and economy mechanics</li><li>Combat stats and game balance</li><li>Save/load systems for game progress</li><li>Themed UI styling and custom layouts</li></ul><h3 id=template-vs-custom-decision>Template vs Custom Decision</h3><p><strong>Use Plugin Templates When:</strong></p><ul><li>Standard building selection patterns fit your game</li><li>You want rapid prototyping with working UI</li><li>Your design aligns with template assumptions</li><li>You need keyboard/controller navigation</li></ul><p><strong>Build Custom Implementation When:</strong></p><ul><li>Your UI patterns differ significantly from templates</li><li>You need integration with complex game systems</li><li>Performance requirements demand specialized solutions</li><li>Your artistic vision requires completely custom styling</li></ul><h2 id=-placement-persistence-with-metadata>üè∑Ô∏è Placement Persistence with Metadata</h2><p>The plugin uses <strong>metadata keys</strong> to track object state and enable save/load systems. Two metadata flags are automatically managed by the plugin:</p><h3 id=metadata-keys>Metadata Keys</h3><p><strong><code>gb_preview</code></strong> - Marks temporary objects (previews, manipulation copies)</p><ul><li>Automatically set during build mode and manipulation</li><li>Use to exclude temporary objects from saves and gameplay systems</li></ul><p><strong><code>gb_placement</code></strong> - Marks permanently placed objects with source reference</p><ul><li>Automatically set when objects are placed via BuildingSystem</li><li>Stores the Placeable resource path for save/load operations</li></ul><h3 id=quick-reference>Quick Reference</h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Check if object is a temporary preview</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> node<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>has_meta</span>(<span style=color:#a5d6ff>&#34;gb_preview&#34;</span>):
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Skip - temporary object, don&#39;t save or target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Check if object is a placed building</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> node<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>has_meta</span>(<span style=color:#a5d6ff>&#34;gb_placement&#34;</span>):
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># This is a permanent placed object - include in saves</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> placeable_path <span style=color:#ff7b72;font-weight:700>=</span> node<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get_meta</span>(<span style=color:#a5d6ff>&#34;gb_placement&#34;</span>)[<span style=color:#a5d6ff>&#34;placeable_path&#34;</span>]
</span></span></code></pre></td></tr></table></div></div><h3 id=saveload-implementation>Save/Load Implementation</h3><p>The plugin provides <a href=../api/GBPlacementPersistence/>GBPlacementPersistence</a> utility for save/load operations:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>save_level</span>() <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#f0883e;font-weight:700>Dictionary</span>:
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Get all placed objects (automatically excludes gb_preview objects)</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> placements <span style=color:#ff7b72;font-weight:700>=</span> GBPlacementPersistence<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>save_all_placements</span>(objects_parent)
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> {<span style=color:#a5d6ff>&#34;placements&#34;</span>: placements}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>load_level</span>(save_data: <span style=color:#f0883e;font-weight:700>Dictionary</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>void</span>:
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Clear existing placed objects</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> placed <span style=color:#ff7b72;font-weight:700>=</span> GBPlacementPersistence<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get_placed_objects</span>(objects_parent)
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> node <span style=color:#ff7b72;font-weight:700>in</span> placed:
</span></span><span style=display:flex><span>        node<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>queue_free</span>()
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>await</span> <span style=color:#d2a8ff;font-weight:700>get_tree</span>()<span style=color:#ff7b72;font-weight:700>.</span>process_frame
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Load placements from save data</span>
</span></span><span style=display:flex><span>    GBPlacementPersistence<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>load_all_placements</span>(save_data[<span style=color:#a5d6ff>&#34;placements&#34;</span>], objects_parent)
</span></span></code></pre></td></tr></table></div></div><h3 id=gameplay-systems-integration>Gameplay Systems Integration</h3><p>Filter objects by metadata for AI, pathfinding, and game logic:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>find_enemy_targets</span>() <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#f0883e;font-weight:700>Array</span>[<span style=color:#f0883e;font-weight:700>Node</span>]:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> targets: <span style=color:#f0883e;font-weight:700>Array</span>[<span style=color:#f0883e;font-weight:700>Node</span>] <span style=color:#ff7b72;font-weight:700>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>for</span> building <span style=color:#ff7b72;font-weight:700>in</span> <span style=color:#d2a8ff;font-weight:700>get_tree</span>()<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get_nodes_in_group</span>(<span style=color:#a5d6ff>&#34;Building&#34;</span>):
</span></span><span style=display:flex><span>        <span style=color:#8b949e;font-style:italic># Skip previews, only target placed buildings</span>
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> building<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>has_meta</span>(<span style=color:#a5d6ff>&#34;gb_preview&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#ff7b72>continue</span>
</span></span><span style=display:flex><span>        targets<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>append</span>(building)
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> targets
</span></span></code></pre></td></tr></table></div></div><h3 id=key-points>Key Points</h3><ul><li>‚úÖ <strong>Automatic Management</strong>: Plugin handles metadata lifecycle</li><li>‚úÖ <strong>No Manual Tracking</strong>: Just check metadata presence when filtering</li><li>‚úÖ <strong>Built-in Save/Load</strong>: Use <a href=../api/GBPlacementPersistence/>GBPlacementPersistence</a> for basic persistence</li><li>‚ö†Ô∏è <strong>Custom Systems</strong>: Extend for resource costs, unlocks, and game-specific data</li></ul><p>For comprehensive save/load guidance, see the <a href=/v5-1/guides/placement-persistence/>Placement Persistence Guide</a>.</p><h2 id=ui-templates-vs-game-specific-implementation>UI Templates vs Game-Specific Implementation</h2><h3 id=-what-ui-templates-provide>üé® What UI Templates Provide</h3><p>The plugin includes <strong>advanced UI templates</strong> for common building game patterns:</p><p><strong>Unified Selection System:</strong></p><ul><li><a href=../api/PlaceableSelectionUI/>PlaceableSelectionUI</a> - Grid-based selection interface that automatically handles both individual placeables and sequences</li><li><a href=../api/PlaceableSequence/>PlaceableSequence</a> - Groups multiple building variants (Basic Tower ‚Üí Heavy Tower ‚Üí Rapid Tower)</li><li><a href=../api/PlaceableList/>PlaceableList</a> - Collection management with variant cycling through sequences</li></ul><p><strong>When to Use Templates:</strong></p><ul><li>Your game has building variants that players select before placement</li><li>You prefer list-based UI over grid-based selection</li><li>You need keyboard navigation and variant cycling</li><li>You want to group related buildings together</li></ul><p><strong>When to Build Custom:</strong></p><ul><li>Your game uses fundamentally different UI patterns (radial menus, drag-drop, etc.)</li><li>You need variant selection during placement rather than before</li><li>Your upgrade system works differently than variant selection</li><li>You prefer complete control over UI styling and behavior</li></ul><h3 id=-template-vs-custom-decision-matrix>üîÑ Template vs Custom Decision Matrix</h3><table><thead><tr><th>Feature</th><th>Use Template</th><th>Build Custom</th></tr></thead><tbody><tr><td>Grid-based selection (individual or sequences)</td><td>‚úÖ</td><td>‚ùå</td></tr><tr><td>Building variants with left/right cycling</td><td>‚úÖ</td><td>‚ùå</td></tr><tr><td>Automatic handling of placeables vs sequences</td><td>‚úÖ</td><td>‚ùå</td></tr><tr><td>Radial menus or drag-drop interfaces</td><td>‚ùå</td><td>‚úÖ</td></tr><tr><td>In-placement variant switching</td><td>‚ùå</td><td>‚úÖ</td></tr><tr><td>Heavily themed/styled UI</td><td>‚ùå</td><td>‚úÖ</td></tr><tr><td>Complex upgrade trees</td><td>‚ùå</td><td>‚úÖ</td></tr></tbody></table><h2 id=implementation-guidelines>Implementation Guidelines</h2><h3 id=-core-principle-composition-over-extension>üéØ Core Principle: Composition Over Extension</h3><p><strong>‚úÖ Recommended Approach:</strong>
Create wrapper classes that compose with plugin systems rather than extending them. Build game-specific managers that delegate core functionality to plugin components while adding custom validation, resource checks, and game logic on top.</p><p><strong>Pattern</strong>: Composition wrapper that:</p><ul><li>Maintains references to plugin systems</li><li>Implements game-specific state (quantities, unlocks, resources)</li><li>Validates game conditions before delegating to plugin</li><li>Adds custom checks and business logic around plugin calls</li></ul><p><strong>‚ùå Avoid Direct Plugin Modification:</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Don&#39;t modify plugin classes directly</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>class_name</span> <span style=color:#f0883e;font-weight:700>CustomBuildingSystem</span> <span style=color:#ff7b72>extends</span> <span style=color:#f0883e;font-weight:700>BuildingSystem</span>:
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># This creates maintenance burden and update conflicts</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=game-specific-feature-implementation>Game-Specific Feature Implementation</h2><h3 id=1-building-variants>1. Building Variants</h3><p><strong>Use Case</strong>: Tower types with multiple functional variants (Basic ‚Üí Heavy ‚Üí Rapid-Fire)</p><p><strong>Solution Options:</strong></p><ul><li><strong>Plugin Template</strong>: Use <a href=../api/PlaceableSequence/>PlaceableSequence</a> + <a href=../api/PlaceableSelectionUI/>PlaceableSelectionUI</a> for ready-made variant selection</li><li><strong>Custom</strong>: Build variant manager that cycles through options and updates Placeable resources dynamically</li></ul><p><strong>Key Integration</strong>: Modify <a href=../api/Placeable/>Placeable</a> resources at runtime, use existing placement validation</p><h3 id=2-quantity-limits>2. Quantity Limits</h3><p><strong>Use Case</strong>: Restrict building counts (max 3 towers, 5 farms)</p><p><strong>Solution</strong>: Create quota manager that tracks counts and validates before placement</p><p><strong>Implementation</strong>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>class_name</span> <span style=color:#f0883e;font-weight:700>BuildingQuota</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> limits <span style=color:#ff7b72;font-weight:700>:=</span> {<span style=color:#a5d6ff>&#34;tower&#34;</span>: <span style=color:#a5d6ff>3</span>, <span style=color:#a5d6ff>&#34;farm&#34;</span>: <span style=color:#a5d6ff>5</span>}
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> counts <span style=color:#ff7b72;font-weight:700>:=</span> {<span style=color:#a5d6ff>&#34;tower&#34;</span>: <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>&#34;farm&#34;</span>: <span style=color:#a5d6ff>0</span>}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>can_place</span>(type: <span style=color:#f0883e;font-weight:700>String</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>bool</span>:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> counts<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get</span>(type, <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72;font-weight:700>&lt;</span> limits<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get</span>(type, <span style=color:#a5d6ff>999</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>on_placed</span>(type: <span style=color:#f0883e;font-weight:700>String</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>void</span>:
</span></span><span style=display:flex><span>        counts[type] <span style=color:#ff7b72;font-weight:700>=</span> counts<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get</span>(type, <span style=color:#a5d6ff>0</span>) <span style=color:#ff7b72;font-weight:700>+</span> <span style=color:#a5d6ff>1</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Key Integration</strong>: Check quotas before calling BuildingSystem placement methods</p><h3 id=3-building-upgrades>3. Building Upgrades</h3><p><strong>Use Case</strong>: Upgrade buildings to more powerful versions (Small Barracks ‚Üí Large Barracks)</p><p><strong>Solution</strong>: Use <a href=../api/ManipulationSystem/>ManipulationSystem</a> to remove + <a href=../api/BuildingSystem/>BuildingSystem</a> to place upgraded version</p><p><strong>Implementation Pattern</strong>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>upgrade_building</span>(building: <span style=color:#f0883e;font-weight:700>Node</span>, upgrade_path: <span style=color:#f0883e;font-weight:700>String</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>bool</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> old_pos <span style=color:#ff7b72;font-weight:700>=</span> building<span style=color:#ff7b72;font-weight:700>.</span>global_position
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Remove old building</span>
</span></span><span style=display:flex><span>    manipulation_system<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>select_object</span>(building)
</span></span><span style=display:flex><span>    manipulation_system<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>delete_selected</span>()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic># Place upgraded version</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> upgraded_placeable <span style=color:#ff7b72;font-weight:700>=</span> load(upgrade_path) <span style=color:#ff7b72;font-weight:700>as</span> Placeable
</span></span><span style=display:flex><span>    building_system<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>enter_build_mode</span>(upgraded_placeable)
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> building_system<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>try_place_at</span>(old_pos)
</span></span></code></pre></td></tr></table></div></div><h3 id=4-unlockable-recipes>4. Unlockable Recipes</h3><p><strong>Use Case</strong>: Dynamic building availability based on progression (unlock after wave 10)</p><p><strong>Solution</strong>: Filter available buildings before passing to plugin systems</p><p><strong>Implementation</strong>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>class_name</span> <span style=color:#f0883e;font-weight:700>UnlockManager</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>var</span> unlocked_buildings: <span style=color:#f0883e;font-weight:700>Array</span>[<span style=color:#f0883e;font-weight:700>String</span>] <span style=color:#ff7b72;font-weight:700>=</span> [<span style=color:#a5d6ff>&#34;basic_tower&#34;</span>]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>get_available_placeables</span>() <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#f0883e;font-weight:700>Array</span>[Placeable]:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>var</span> available: <span style=color:#f0883e;font-weight:700>Array</span>[Placeable] <span style=color:#ff7b72;font-weight:700>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>for</span> path <span style=color:#ff7b72;font-weight:700>in</span> unlocked_buildings:
</span></span><span style=display:flex><span>            available<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>append</span>(load(path))
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> available
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>unlock</span>(building_path: <span style=color:#f0883e;font-weight:700>String</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>void</span>:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>if</span> building_path <span style=color:#ff7b72;font-weight:700>not</span> <span style=color:#ff7b72;font-weight:700>in</span> unlocked_buildings:
</span></span><span style=display:flex><span>            unlocked_buildings<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>append</span>(building_path)
</span></span></code></pre></td></tr></table></div></div><p><strong>Key Integration</strong>: Pass filtered list to BuildingSystem or PlaceableSelectionUI</p><h2 id=custom-integration-patterns>Custom Integration Patterns</h2><p><strong>Resource Management</strong>: Wrap BuildingSystem with cost validation and resource deduction</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>try_place_with_cost</span>(placeable: Placeable, cost: <span style=color:#ff7b72>int</span>) <span style=color:#ff7b72;font-weight:700>-&gt;</span> <span style=color:#ff7b72>bool</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> resources <span style=color:#ff7b72;font-weight:700>&lt;</span> cost:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>false</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>if</span> building_system<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>try_place_current</span>():
</span></span><span style=display:flex><span>        resources <span style=color:#ff7b72;font-weight:700>-=</span> cost
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>return</span> <span style=color:#79c0ff>false</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Custom Validation Rules</strong>: Extend PlacementRule base class for game-specific checks</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>class_name</span> <span style=color:#f0883e;font-weight:700>ResourceProximityRule</span> <span style=color:#ff7b72>extends</span> <span style=color:#f0883e;font-weight:700>PlacementRule</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>validate</span>(context: RuleValidationContext) <span style=color:#ff7b72;font-weight:700>-&gt;</span> RuleValidationResult:
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>var</span> nearby_resources <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>find_resources_near</span>(context<span style=color:#ff7b72;font-weight:700>.</span>position)
</span></span><span style=display:flex><span>        <span style=color:#ff7b72>return</span> RuleValidationResult<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>new</span>(nearby_resources<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>size</span>() <span style=color:#ff7b72;font-weight:700>&gt;</span> <span style=color:#a5d6ff>0</span>, [<span style=color:#a5d6ff>&#34;Needs nearby resources&#34;</span>])
</span></span></code></pre></td></tr></table></div></div><p><strong>Event Integration</strong>: Connect to plugin signals for placement events</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#ff7b72>func</span> <span style=color:#d2a8ff;font-weight:700>_ready</span>():
</span></span><span style=display:flex><span>    building_system<span style=color:#ff7b72;font-weight:700>.</span>placed<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>connect</span>(_on_building_placed)
</span></span><span style=display:flex><span>    manipulation_system<span style=color:#ff7b72;font-weight:700>.</span>object_selected<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>connect</span>(_on_object_selected)
</span></span></code></pre></td></tr></table></div></div><h2 id=best-practices>Best Practices</h2><p>‚úÖ <strong>Compose, Don&rsquo;t Modify</strong>: Build wrapper classes around plugin systems, never modify plugin source<br>‚úÖ <strong>Use Extension Points</strong>: Connect to signals, extend PlacementRule, wrap systems with game logic<br>‚úÖ <strong>Separate Concerns</strong>: Keep game-specific code (resources, upgrades, economy) separate from core mechanics<br>‚úÖ <strong>Check Metadata</strong>: Always filter <code>gb_preview</code> objects from saves and gameplay systems<br>‚úÖ <strong>Maintain Upgrade Path</strong>: Avoid changes that prevent plugin updates</p><h2 id=conclusion>Conclusion</h2><p>The Grid Building plugin provides core building mechanics with metadata-based persistence. Extend it using:</p><ul><li><strong>Composition patterns</strong> for game-specific features</li><li><strong>Metadata keys</strong> for save/load and object filtering</li><li><strong>Plugin signals</strong> for event-driven integration</li><li><strong>Custom rules</strong> for game-specific validation</li></ul><p>For detailed save/load implementation, see <a href=/v5-1/guides/placement-persistence/>Placement Persistence Guide</a>.</p></div></main><aside class=gb-toc><div class=gb-toc-title>On this page</div><nav id=TableOfContents><ul><li><a href=#plugin-scope-vs-game-specific-features>Plugin Scope vs Game-Specific Features</a><ul><li><a href=#-what-the-plugin-provides-core-features>‚úÖ What the Plugin Provides (Core Features)</a></li><li><a href=#-what-the-plugin-does-not-provide-game-specific>‚ùå What the Plugin Does NOT Provide (Game-Specific)</a></li></ul></li><li><a href=#-architectural-boundaries>üèß Architectural Boundaries</a><ul><li><a href=#core-plugin-scope>Core Plugin Scope</a></li><li><a href=#template-vs-custom-decision>Template vs Custom Decision</a></li></ul></li><li><a href=#-placement-persistence-with-metadata>üè∑Ô∏è Placement Persistence with Metadata</a><ul><li><a href=#metadata-keys>Metadata Keys</a></li><li><a href=#quick-reference>Quick Reference</a></li><li><a href=#saveload-implementation>Save/Load Implementation</a></li><li><a href=#gameplay-systems-integration>Gameplay Systems Integration</a></li><li><a href=#key-points>Key Points</a></li></ul></li><li><a href=#ui-templates-vs-game-specific-implementation>UI Templates vs Game-Specific Implementation</a><ul><li><a href=#-what-ui-templates-provide>üé® What UI Templates Provide</a></li><li><a href=#-template-vs-custom-decision-matrix>üîÑ Template vs Custom Decision Matrix</a></li></ul></li><li><a href=#implementation-guidelines>Implementation Guidelines</a><ul><li><a href=#-core-principle-composition-over-extension>üéØ Core Principle: Composition Over Extension</a></li></ul></li><li><a href=#game-specific-feature-implementation>Game-Specific Feature Implementation</a><ul><li><a href=#1-building-variants>1. Building Variants</a></li><li><a href=#2-quantity-limits>2. Quantity Limits</a></li><li><a href=#3-building-upgrades>3. Building Upgrades</a></li><li><a href=#4-unlockable-recipes>4. Unlockable Recipes</a></li></ul></li><li><a href=#custom-integration-patterns>Custom Integration Patterns</a></li><li><a href=#best-practices>Best Practices</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></aside><footer class=gb-footer><p>&copy; 2025 Chris Tutorials. All rights reserved.</p><p>Built with <a href=https://gohugo.io/ target=_blank>Hugo</a> and
<a href=https://godotengine.org/ target=_blank>Godot</a>.</p></footer></div></body></html>