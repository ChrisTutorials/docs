<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Isometric Implementation | GridBuilding Plugin</title>
<meta name=description content="Complete guide for implementing Grid Building in isometric games, including coordinate systems, indicator shapes, and rotation handling"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hugo 0.146.5"></head><body><div class=gb-layout><header class=gb-header><a href=/ class=gb-brand><i class="fas fa-cubes" style=color:var(--gb-primary)></i>
<span>GridBuilding Plugin</span></a><div class=gb-search><i class="fas fa-search"></i>
<input type=text placeholder="Search documentation..." aria-label=Search></div><nav class=gb-nav><a href=/ class=gb-nav-link>Home
</a><a href=/v6.0/overview/ class=gb-nav-link>Documentation
</a><a href=/v5.1/overview/ class=gb-nav-link>Grid Building Plugin Overview
</a><a href=/v6.0/api/ class=gb-nav-link>API Reference
</a><a href=/v5.1/guides/ class=gb-nav-link>Getting Started Guides
</a><a href=/v6.0/examples/ class=gb-nav-link>Examples
</a><a href=/v5.1/examples/ class=gb-nav-link>Code Examples
</a><a href=/community/ class=gb-nav-link>Community
</a><a href=/v5.1/architecture-diagrams/ class=gb-nav-link>Architecture Diagrams</a></nav></header><aside class=gb-sidebar><nav class=gb-sidebar-nav><div class=gb-sidebar-section><div class=gb-sidebar-title>V6-0s</div><a href=/v6-0/guides/getting_started/ class=gb-sidebar-link>Getting Started with GridBuilding
</a><a href=/v6.0/guides/gdscript-to-csharp-mapping/ class=gb-sidebar-link>GDScript to C# Migration Guide
</a><a href=/v6-0/guides/csharp_state_integration/ class=gb-sidebar-link>C# State Integration with Godot Frontend
</a><a href=/v6-0/guides/troubleshooting/ class=gb-sidebar-link>Troubleshooting Guide
</a><a href=/v6-0/examples/godot_integration_example/ class=gb-sidebar-link>Godot Integration Example
</a><a href=/v6-0/guides/service_based_architecture/ class=gb-sidebar-link>Service-Based Architecture
</a><a href=/gridbuilding/v6-0/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.1.0</div><a href=/v5.1/overview/ class=gb-sidebar-link>Grid Building Plugin Overview
</a><a href=/v5.1/guides/ class=gb-sidebar-link>Getting Started Guides
</a><a href=/v5.1/api/ class=gb-sidebar-link>C# API Reference
</a><a href=/v5.1/examples/ class=gb-sidebar-link>Code Examples
</a><a href=/v5.1/architecture-diagrams/ class=gb-sidebar-link>Architecture Diagrams
</a><a href=/v5.1/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.1/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.1/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.1/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.0.0</div><a href=/v5.0/api/ class=gb-sidebar-link>GDScript API Reference
</a><a href=/v5.0/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.0/overview/ class=gb-sidebar-link>Grid Building Plugin v5.0.0
</a><a href=/v5.0/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.0/guides/ class=gb-sidebar-link>Plugin Overview
</a><a href=/v5.0/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.0/validation/ class=gb-sidebar-link>Validation Tools</a></div></nav></aside><main class=gb-main><div class=gb-content><h1>Isometric Implementation</h1><hr><p>This guide covers the essential considerations and best practices for implementing the Grid Building plugin in isometric games. It addresses coordinate transformations, visual perspective, indicator shapes, and manipulation behaviors specific to isometric projection.</p><h2 id=overview>Overview</h2><p>Isometric games present unique challenges when integrating grid-based building systems:</p><ol><li><strong>Coordinate Transform</strong>: 2D world coordinates must be mapped to isometric tile coordinates</li><li><strong>Visual Perspective</strong>: Sprites and indicators need proper skew/rotation for isometric appearance</li><li><strong>Rotation Behavior</strong>: Manipulation and rotation must handle compound transforms correctly</li><li><strong>Collision Shapes</strong>: Indicator shapes must work correctly with parent transformations</li></ol><p>This guide addresses each of these areas with practical solutions and recommended patterns.</p><h2 id=isometric-coordinate-system>Isometric Coordinate System</h2><h3 id=transform-configuration>Transform Configuration</h3><p>Isometric games typically use a 30° skew angle to create the diamond perspective. The Grid Building plugin handles this through the <code>GridTargeter</code> node configuration:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;GridTargeter&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;.&#34;</span>]
</span></span><span style=display:flex><span>rotation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.523599</span>  <span style=color:#8b949e;font-style:italic># 30° in radians (π/6)</span>
</span></span><span style=display:flex><span>scale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>3</span>, <span style=color:#a5d6ff>3</span>)
</span></span><span style=display:flex><span>skew <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.523599</span>      <span style=color:#8b949e;font-style:italic># 30° skew for isometric perspective</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Key points:</strong></p><ul><li><code>rotation = 0.523599</code> (30°) establishes the isometric angle</li><li><code>skew = 0.523599</code> creates the diamond tile appearance</li><li><code>scale = Vector2(3, 3)</code> adjusts visual size (project-specific)</li></ul><h3 id=scene-hierarchy>Scene Hierarchy</h3><p>The isometric demo implementation maintains separation between coordinate transformation and game logic:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>GridPositioner2D (ShapeCast2D)
</span></span><span style=display:flex><span>├── GridTargeter (visual transform: rotation + skew)
</span></span><span style=display:flex><span>├── ManipulationParent (manipulation transforms)
</span></span><span style=display:flex><span>│   ├── IndicatorManager (indicator container - child of ManipulationParent)
</span></span><span style=display:flex><span>│   │   ├── RuleCheckIndicator (collision shapes)
</span></span><span style=display:flex><span>│   │   └── RuleCheckIndicator
</span></span><span style=display:flex><span>│   └── PreviewObject (object being placed/manipulated)
</span></span><span style=display:flex><span>└── Other components...
</span></span></code></pre></td></tr></table></div></div><p><strong>Current Implementation:</strong></p><ul><li><code>GridTargeter</code>: Provides isometric visual transform</li><li><a href=../api/ManipulationParent/>ManipulationParent</a>: Handles rotation/flip operations</li><li><a href=../api/IndicatorManager/>IndicatorManager</a>: <strong>Child</strong> of ManipulationParent - inherits rotation transforms</li><li>Indicators: Rotate together with preview object for visual consistency</li></ul><h2 id=tilemaplayer-configuration>TileMapLayer Configuration</h2><h3 id=isometric-tileset-setup>Isometric Tileset Setup</h3><p>Your <code>TileMapLayer</code> should be configured with the appropriate tile size and physics layers:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Example: 50x50 pixel isometric tiles</span>
</span></span><span style=display:flex><span>tile_set<span style=color:#ff7b72;font-weight:700>.</span>tile_size <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2i</span>(<span style=color:#a5d6ff>50</span>, <span style=color:#a5d6ff>50</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Physics layers for collision detection</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Layer 0: Ground tiles (for bounds checking)</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Layer 9: Buildings/objects (for collision checking)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=tile-coordinate-conversion>Tile Coordinate Conversion</h3><p>The plugin automatically handles conversion between world coordinates and tile coordinates using the <code>TileMapLayer</code> API:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># World position to tile coordinates</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> tile_coords: <span style=color:#f0883e;font-weight:700>Vector2i</span> <span style=color:#ff7b72;font-weight:700>=</span> tile_map<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>local_to_map</span>(world_position)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Tile coordinates to world position</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> world_pos: <span style=color:#f0883e;font-weight:700>Vector2</span> <span style=color:#ff7b72;font-weight:700>=</span> tile_map<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>map_to_local</span>(tile_coords)
</span></span></code></pre></td></tr></table></div></div><p><strong>Important:</strong> The isometric skew is applied at the visual layer (<code>GridTargeter</code>), but tile coordinate calculations work in the logical grid space. The plugin&rsquo;s collision mapper and positioning systems handle this transformation automatically.</p><h2 id=positioning-and-targeting>Positioning and Targeting</h2><h3 id=gridpositioner2d-configuration>GridPositioner2D Configuration</h3><p>The <a href=../api/GridPositioner2D/>GridPositioner2D</a> manages cursor positioning and input handling. For isometric scenes:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;GridPositioner2D&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ShapeCast2D&#34;</span>]
</span></span><span style=display:flex><span>z_index <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>1000</span>  <span style=color:#8b949e;font-style:italic># Ensure visibility above game objects</span>
</span></span><span style=display:flex><span>shape <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;isometric_indicator_shape&#34;</span>)  <span style=color:#8b949e;font-style:italic># Polygon shape</span>
</span></span><span style=display:flex><span>target_position <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>)
</span></span><span style=display:flex><span>collision_mask <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>2560</span>  <span style=color:#8b949e;font-style:italic># Configure for your collision layers</span>
</span></span><span style=display:flex><span>collide_with_areas <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=mouse-input-handling>Mouse Input Handling</h3><p>Mouse input automatically accounts for the isometric perspective through the viewport transform. The <a href=../api/GridPositioner2D/>GridPositioner2D</a> tracks the mouse in world space, and the <code>TileMapLayer</code> converts to tile coordinates.</p><p><strong>No special mouse handling required</strong> - the plugin&rsquo;s positioning system handles coordinate conversion automatically.</p><h2 id=collision-detection>Collision Detection</h2><h3 id=physics-layer-configuration>Physics Layer Configuration</h3><p>Isometric demos typically use this layer configuration:</p><ul><li><strong>Layer 0</strong>: Ground tiles (tilemap physics layer)</li><li><strong>Layer 9</strong>: Buildings and objects</li></ul><h3 id=collision-mask-setup>Collision Mask Setup</h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># CollisionsCheckRule configuration</span>
</span></span><span style=display:flex><span>collision_mask <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>513</span>  <span style=color:#8b949e;font-style:italic># Binary: 1000000001 (layers 0 + 9)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Breakdown:</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Bit 0 (value 1):   Layer 0 - ground tiles</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Bit 9 (value 512): Layer 9 - buildings</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Common pattern:</strong> Include ground layer (0) for bounds checking, buildings layer (9) for collision detection.</p><h3 id=indicator-collision-shapes>Indicator Collision Shapes</h3><p>See the &ldquo;Indicator Shapes: Polygon vs Skewed Rectangles&rdquo; section below for critical shape configuration guidance.</p><h2 id=indicator-shapes-critical-parenting-architecture>Indicator Shapes: Critical Parenting Architecture</h2><h3 id=-the-real-problem-parent-transform-inheritance>⚠️ The Real Problem: Parent Transform Inheritance</h3><p>When working with isometric games, <strong>rotation of preview objects may cause indicators to rotate as well</strong>. This behavior depends on <strong>where indicators are parented in the scene hierarchy</strong>.</p><p><strong>Current Isometric Demo Implementation:</strong></p><p>In the included isometric demo, <a href=../api/IndicatorManager/>IndicatorManager</a> is a <strong>child</strong> of <a href=../api/ManipulationParent/>ManipulationParent</a>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>GridPositioner2D
</span></span><span style=display:flex><span>└── ManipulationParent (rotates 90°)
</span></span><span style=display:flex><span>    ├── IndicatorManager (inherits rotation from parent)
</span></span><span style=display:flex><span>    │   └── RuleCheckIndicators (rotate with preview)
</span></span><span style=display:flex><span>    └── PreviewObject (rotates 90°)
</span></span></code></pre></td></tr></table></div></div><p><strong>Result:</strong> Indicators rotate together with the preview object, maintaining visual consistency during manipulation.</p><p><strong>Alternative: Fixed Indicators (Sibling Parenting)</strong></p><p>If you want indicators to remain fixed while the preview rotates, make <a href=../api/IndicatorManager/>IndicatorManager</a> a <strong>sibling</strong> of <a href=../api/ManipulationParent/>ManipulationParent</a>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>GridPositioner2D
</span></span><span style=display:flex><span>├── IndicatorManager (no rotation inheritance)
</span></span><span style=display:flex><span>│   └── RuleCheckIndicators (maintain fixed orientation)
</span></span><span style=display:flex><span>└── ManipulationParent (rotates 90°)
</span></span><span style=display:flex><span>    └── PreviewObject (rotates 90°)
</span></span></code></pre></td></tr></table></div></div><p><strong>Result:</strong> Indicators maintain their diamond orientation regardless of preview object rotation.</p><h3 id=-choosing-the-right-hierarchy>✅ Choosing the Right Hierarchy</h3><p><strong>Option 1: Child Parenting (Current Demo Implementation)</strong></p><p>Make <a href=../api/IndicatorManager/>IndicatorManager</a> a child of <a href=../api/ManipulationParent/>ManipulationParent</a>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;GridPositioner2D&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ShapeCast2D&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ... GridPositioner2D configuration ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ManipulationParent&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Node2D&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;.&#34;</span>]
</span></span><span style=display:flex><span>script <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;manipulation_parent_script&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;IndicatorManager&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Node2D&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ManipulationParent&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Child of ManipulationParent - will rotate with preview</span>
</span></span><span style=display:flex><span>script <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;indicator_manager_script&#34;</span>)
</span></span></code></pre></td></tr></table></div></div><p><strong>When to use:</strong></p><ul><li>You want indicators to rotate with the building preview</li><li>Visual consistency is more important than fixed orientation</li><li>Your indicator shapes maintain readability when rotated</li></ul><p><strong>Option 2: Sibling Parenting (Alternative)</strong></p><p>Make <a href=../api/IndicatorManager/>IndicatorManager</a> a sibling of <a href=../api/ManipulationParent/>ManipulationParent</a>:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;GridPositioner2D&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ShapeCast2D&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ... GridPositioner2D configuration ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;IndicatorManager&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Node2D&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;.&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Sibling of ManipulationParent - won&#39;t inherit rotation</span>
</span></span><span style=display:flex><span>script <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;indicator_manager_script&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ManipulationParent&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Node2D&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;.&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Sibling of IndicatorManager - rotates independently</span>
</span></span><span style=display:flex><span>script <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;manipulation_parent_script&#34;</span>)
</span></span></code></pre></td></tr></table></div></div><p><strong>When to use:</strong></p><ul><li>You want indicators to stay fixed while preview rotates</li><li>Diamond shapes should maintain consistent orientation</li><li>Visual &ldquo;flipping&rdquo; of indicators is undesirable</li></ul><p><strong>Why this works:</strong></p><ul><li><strong>Child parenting</strong>: <a href=../api/IndicatorManager/>IndicatorManager</a> inherits all transforms from <a href=../api/ManipulationParent/>ManipulationParent</a>, so indicators rotate with the preview</li><li><strong>Sibling parenting</strong>: <a href=../api/IndicatorManager/>IndicatorManager</a> is directly parented to <a href=../api/GridPositioner2D/>GridPositioner2D</a>, so when <a href=../api/ManipulationParent/>ManipulationParent</a> rotates, <a href=../api/IndicatorManager/>IndicatorManager</a> remains unaffected</li></ul><h3 id=shape-choice-polygon-recommended-but-not-required>Shape Choice: Polygon Recommended (But Not Required)</h3><p>While the parenting fix solves the rotation issue, using <code>ConvexPolygonShape2D</code> is still <strong>recommended</strong> for clarity:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ RECOMMENDED: Explicit diamond points</span>
</span></span><span style=display:flex><span>[gd_resource type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ConvexPolygonShape2D&#34;</span>]
</span></span><span style=display:flex><span>[resource]
</span></span><span style=display:flex><span>points <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>PackedVector2Array</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>24</span>, <span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>24</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>)
</span></span></code></pre></td></tr></table></div></div><p><strong>Benefits of polygon shapes:</strong></p><ul><li>Explicit geometry (clear what the collision shape looks like)</li><li>No transform ambiguity (shape is defined in absolute coordinates)</li><li>Easier to customize for different tile sizes</li></ul><p><strong>You can still use rectangles if properly parented:</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ ALSO WORKS: Rectangle with correct parenting</span>
</span></span><span style=display:flex><span>[gd_resource type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;RectangleShape2D&#34;</span>]
</span></span><span style=display:flex><span>[resource]
</span></span><span style=display:flex><span>size <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>50</span>, <span style=color:#a5d6ff>50</span>)
</span></span></code></pre></td></tr></table></div></div><p>The key is the <strong>parenting hierarchy</strong>, not the shape type.</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ CORRECT: ConvexPolygonShape2D with explicit diamond points</span>
</span></span><span style=display:flex><span>[gd_resource type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ConvexPolygonShape2D&#34;</span> format<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>3</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[resource]
</span></span><span style=display:flex><span>resource_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;Isometric Tile Indicator Shape&#34;</span>
</span></span><span style=display:flex><span>points <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>PackedVector2Array</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>24</span>, <span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>24</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>)
</span></span></code></pre></td></tr></table></div></div><p><strong>Why this works:</strong></p><ul><li>The polygon shape is defined in absolute coordinates</li><li>No skew transformation needed on the shape itself</li><li>Rotation affects the entire shape uniformly</li><li>The diamond shape is preserved during all manipulations</li></ul><h2 id=template-configuration>Template Configuration</h2><h3 id=isometric-indicator-shape-resource>Isometric Indicator Shape Resource</h3><p>Grid Building provides pre-configured polygon shapes for isometric tiles:</p><p><strong>File:</strong> <code>res://templates/grid_building_templates/indicator/indicator_isometric_shape_50px.tres</code></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[gd_resource type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ConvexPolygonShape2D&#34;</span> format<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>3</span> uid<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;uid://doksii8b4abd&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[resource]
</span></span><span style=display:flex><span>resource_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;Indicator Shape for 50px Tile Isometric&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Diamond shape for isometric tile (50px × 50px projected)</span>
</span></span><span style=display:flex><span>points <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>PackedVector2Array</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>24</span>, <span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>24</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>42</span>, <span style=color:#a5d6ff>0</span>)
</span></span></code></pre></td></tr></table></div></div><h3 id=isometric-indicator-scene-template>Isometric Indicator Scene Template</h3><p><strong>File:</strong> <code>res://templates/grid_building_templates/indicator/rule_check_indicator_isometric.tscn</code></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;RuleCheckIndicatorIsometric&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ShapeCast2D&#34;</span>]
</span></span><span style=display:flex><span>top_level <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#79c0ff>true</span>
</span></span><span style=display:flex><span>shape <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#d2a8ff;font-weight:700>ExtResource</span>(<span style=color:#a5d6ff>&#34;indicator_isometric_shape.tres&#34;</span>)  <span style=color:#8b949e;font-style:italic># Polygon shape</span>
</span></span><span style=display:flex><span>target_position <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>)
</span></span><span style=display:flex><span>collision_mask <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0</span>
</span></span><span style=display:flex><span>script <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;res://addons/grid_building/placement/rule_check_indicator/rule_check_indicator.gd&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[node name<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Sprite2D&#34;</span> type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;Sprite2D&#34;</span> parent<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;.&#34;</span>]
</span></span><span style=display:flex><span>rotation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.523599</span>  <span style=color:#8b949e;font-style:italic># Visual rotation for isometric appearance</span>
</span></span><span style=display:flex><span>scale <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>3</span>, <span style=color:#a5d6ff>3</span>)
</span></span><span style=display:flex><span>skew <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.523599</span>      <span style=color:#8b949e;font-style:italic># Visual skew for sprite only (not shape)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Key points:</strong></p><ul><li>The <code>ShapeCast2D.shape</code> uses the polygon resource (no skew)</li><li>The <code>Sprite2D</code> child can still use skew for visual appearance</li><li>Visual sprite transformations don&rsquo;t affect collision shape behavior</li></ul><h2 id=creating-custom-isometric-shapes>Creating Custom Isometric Shapes</h2><p>If you need a custom tile size, calculate the polygon points based on your tile dimensions:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># For a tile with size W × H in isometric projection</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Diamond points (top, right, bottom, left):</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> half_width <span style=color:#ff7b72;font-weight:700>=</span> W <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2.0</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> half_height <span style=color:#ff7b72;font-weight:700>=</span> H <span style=color:#ff7b72;font-weight:700>/</span> <span style=color:#a5d6ff>2.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>points <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>PackedVector2Array</span>(
</span></span><span style=display:flex><span>    <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#ff7b72;font-weight:700>-</span>half_height),        <span style=color:#8b949e;font-style:italic># Top</span>
</span></span><span style=display:flex><span>    <span style=color:#f0883e;font-weight:700>Vector2</span>(half_width, <span style=color:#a5d6ff>0</span>),          <span style=color:#8b949e;font-style:italic># Right</span>
</span></span><span style=display:flex><span>    <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#a5d6ff>0</span>, half_height),         <span style=color:#8b949e;font-style:italic># Bottom</span>
</span></span><span style=display:flex><span>    <span style=color:#f0883e;font-weight:700>Vector2</span>(<span style=color:#ff7b72;font-weight:700>-</span>half_width, <span style=color:#a5d6ff>0</span>)          <span style=color:#8b949e;font-style:italic># Left</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></td></tr></table></div></div><p><strong>Example for 64×64 tile:</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span>[gd_resource type<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>&#34;ConvexPolygonShape2D&#34;</span> format<span style=color:#ff7b72;font-weight:700>=</span><span style=color:#a5d6ff>3</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[resource]
</span></span><span style=display:flex><span>resource_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;Isometric Tile Indicator 64px&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># For 64px isometric tile</span>
</span></span><span style=display:flex><span>points <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#f0883e;font-weight:700>PackedVector2Array</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>32</span>, <span style=color:#a5d6ff>54</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>32</span>, <span style=color:#ff7b72;font-weight:700>-</span><span style=color:#a5d6ff>54</span>, <span style=color:#a5d6ff>0</span>)
</span></span></code></pre></td></tr></table></div></div><h2 id=integration-with-manipulationparent>Integration with ManipulationParent</h2><p>The polygon shape approach works seamlessly with the manipulation system:</p><h3 id=grid-aware-rotation-behavior-v500>Grid-Aware Rotation Behavior (v5.0.0)</h3><p>Grid Building 5.0.0 includes enhanced grid-aware rotation utilities (<a href=../api/GBGridRotationUtils/>GBGridRotationUtils</a>) that maintain proper grid alignment during rotation:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Grid-aware rotation with configurable increments</span>
</span></span><span style=display:flex><span>GBGridRotationUtils<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>rotate_node_clockwise</span>(node, tile_map, <span style=color:#a5d6ff>90.0</span>)  <span style=color:#8b949e;font-style:italic># 4-direction (RTS-style)</span>
</span></span><span style=display:flex><span>GBGridRotationUtils<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>rotate_node_clockwise</span>(node, tile_map, <span style=color:#a5d6ff>45.0</span>)  <span style=color:#8b949e;font-style:italic># 8-direction (isometric with diagonals)</span>
</span></span><span style=display:flex><span>GBGridRotationUtils<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>rotate_node_clockwise</span>(node, tile_map, <span style=color:#a5d6ff>60.0</span>)  <span style=color:#8b949e;font-style:italic># 6-direction (hex-style)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Traditional rotation (for comparison)</span>
</span></span><span style=display:flex><span>manipulation_parent<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>apply_rotation</span>(<span style=color:#a5d6ff>90.0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Grid-aware rotation benefits:</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ Maintains proper grid tile alignment</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ Supports configurable rotation increments (4, 6, 8, 12 directions)</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ Automatic snap-to-grid positioning</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ Cardinal direction support for backward compatibility</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Key advantages of grid-aware rotation:</strong></p><ul><li>Objects stay properly aligned to grid tiles after rotation</li><li>Configurable rotation increments support different game styles</li><li>Integration with GridPositioner2D and tile map systems</li><li>Consistent behavior across square, isometric, and hex grids</li></ul><h3 id=shape-behavior-during-rotation>Shape Behavior During Rotation</h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># With grid-aware rotation:</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ✅ Polygon shape: Rotates uniformly, diamond stays diamond, stays on grid</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ❌ Skewed rectangle: Changes perspective, looks distorted, may drift off grid</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=scene-hierarchy-1>Scene Hierarchy</h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>GridPositioner2D
</span></span><span style=display:flex><span>├── GridTargeter (skew = 0.523599 for visual isometric effect)
</span></span><span style=display:flex><span>└── ManipulationParent
</span></span><span style=display:flex><span>    ├── IndicatorManager
</span></span><span style=display:flex><span>    │   ├── RuleCheckIndicator (polygon shape - no skew!)
</span></span><span style=display:flex><span>    │   │   └── Sprite2D (skew for visual only)
</span></span><span style=display:flex><span>    │   └── RuleCheckIndicator
</span></span><span style=display:flex><span>    └── PreviewObject
</span></span></code></pre></td></tr></table></div></div><p><strong>Critical architecture:</strong></p><ul><li><code>GridTargeter</code> has skew for the visual coordinate system</li><li><a href=../api/RuleCheckIndicator/>RuleCheckIndicator</a> shape is a polygon (not affected by parent skew)</li><li><code>Sprite2D</code> child can use skew for visual appearance without affecting collision</li></ul><h2 id=best-practices>Best Practices</h2><h3 id=-do>✅ DO:</h3><ul><li>Use <code>ConvexPolygonShape2D</code> for indicator shapes in isometric scenes</li><li>Define explicit polygon points matching your tile dimensions</li><li>Keep shape definitions transform-free (no rotation/skew in the shape resource)</li><li>Apply visual transformations to sprites, not collision shapes</li></ul><h3 id=-dont>❌ DON&rsquo;T:</h3><ul><li>Use <code>RectangleShape2D</code> with skew transformation for isometric indicators</li><li>Rely on parent node skew for shape definition</li><li>Apply rotation or skew to the shape resource itself</li><li>Mix collision shape transformations with visual transformations</li></ul><h2 id=troubleshooting>Troubleshooting</h2><h3 id=indicators-look-distorted-when-rotating-buildings>Indicators look distorted when rotating buildings</h3><p><strong>Problem:</strong> Diamond indicators appear to &ldquo;flip&rdquo; or change perspective during rotation.</p><p><strong>Cause:</strong> Using <code>RectangleShape2D</code> with skew instead of polygon shape.</p><p><strong>Solution:</strong></p><ol><li>Replace <code>RectangleShape2D</code> with <code>ConvexPolygonShape2D</code></li><li>Define explicit polygon points for diamond shape</li><li>Remove skew from shape, keep only on visual sprites</li></ol><h3 id=indicators-dont-align-with-tiles>Indicators don&rsquo;t align with tiles</h3><p><strong>Problem:</strong> Polygon indicators don&rsquo;t match tile positions.</p><p><strong>Cause:</strong> Incorrect polygon points or wrong tile size calculation.</p><p><strong>Solution:</strong></p><ol><li>Measure your actual tile dimensions</li><li>Calculate proper diamond points (see &ldquo;Creating Custom Isometric Shapes&rdquo; above)</li><li>Test with a single tile first before generating full indicator sets</li></ol><h3 id=performance-concerns-with-polygon-shapes>Performance concerns with polygon shapes</h3><p><strong>Answer:</strong> Polygon shapes with 4 points (diamond) have virtually identical performance to rectangles. The physics engine handles simple convex polygons very efficiently.</p><h2 id=building-and-manipulation-in-isometric-games>Building and Manipulation in Isometric Games</h2><h3 id=-rotation-best-practices-sprite-sequences-not-transform-rotation>⚠️ Rotation Best Practices: Sprite Sequences, Not Transform Rotation</h3><p><strong>For authentic isometric games, DO NOT use node rotation transforms on sprites.</strong> Instead, implement directional sprite sequences and swap sprites based on facing direction.</p><h4 id=why-sprite-sequences>Why Sprite Sequences?</h4><p>Classic isometric games (Diablo, Baldur&rsquo;s Gate, Tactics Ogre, Final Fantasy Tactics) use <strong>pre-rendered sprites from multiple angles</strong> rather than rotating a single sprite:</p><p><strong>✅ RECOMMENDED: Directional Sprite Sequences</strong></p><ul><li>Create separate sprite images for each cardinal direction (North, East, South, West)</li><li>Optionally add diagonal directions for 8-directional movement (NE, SE, SW, NW)</li><li>Swap sprites based on object&rsquo;s facing direction</li><li>Use horizontal flip for symmetrical objects (e.g., East sprite flipped = West sprite)</li></ul><p><strong>❌ AVOID: Node Rotation Transforms</strong></p><ul><li>Do NOT use <code>rotation</code> property on isometric sprites</li><li>Do NOT use <a href=../api/ManipulationParent/>ManipulationParent</a> rotation for visual orientation changes</li><li>Transform rotation distorts the isometric perspective and looks incorrect</li></ul><h4 id=implementation-approach-directional-sprite-systems>Implementation Approach: Directional Sprite Systems</h4><p><strong>This is game-specific functionality outside the plugin&rsquo;s scope.</strong> The Grid Building plugin handles placement validation and collision detection, not visual representation of buildings.</p><p><strong>Your Implementation Responsibilities:</strong></p><ul><li>Create directional sprite controller systems for your buildings</li><li>Store and manage sprite assets for each direction (N, E, S, W, and optionally diagonals)</li><li>Implement sprite swapping logic based on building orientation</li><li>Use horizontal flip optimization for symmetrical directions (East ↔ West)</li><li>Handle sprite changes during building manipulation/rotation</li></ul><p><strong>Architectural Pattern:</strong></p><ul><li>Attach sprite controller scripts to your building scene&rsquo;s root node</li><li>Expose direction enum and sprite texture properties</li><li>Implement <code>set_direction()</code> method that updates visual representation</li><li>Connect direction changes to custom manipulation actions (see <a href=./extending-plugin>Extending the Plugin</a> guide)</li></ul><h4 id=rotation-modes-for-isometric-buildings>Rotation Modes for Isometric Buildings</h4><p><strong>Mode 1: Static Buildings (Recommended)</strong></p><ul><li>Buildings face a fixed direction (typically South or Southeast)</li><li>No rotation during placement or manipulation</li><li>Disable rotation: <code>manipulation_settings.allow_rotation = false</code></li><li>Simplest approach - all buildings use the same directional sprites</li></ul><p><strong>Mode 2: Directional Buildings (Advanced, Game-Specific)</strong></p><ul><li>Buildings have 4 directional sprite variants (N, E, S, W)</li><li><strong>You implement</strong> custom manipulation actions that swap sprites instead of rotating nodes</li><li><strong>You update</strong> collision shapes to match new orientation</li><li>Plugin&rsquo;s rotation system provides cardinal directions for your sprite controller</li><li>Disable visual rotation: <code>manipulation_settings.allow_rotation = false</code></li><li>Implement custom rotation handlers that update your sprite controller systems</li></ul><p><strong>Important:</strong> Sprite swapping and directional visual systems are <strong>game-specific features</strong> outside the plugin&rsquo;s scope. See <a href=./extending-plugin>Extending the Plugin</a> guide for architectural patterns.</p><h4 id=grid-aware-rotation-built-in>Grid-Aware Rotation (Built-In)</h4><p>The plugin&rsquo;s rotation system automatically handles <strong>logical rotation</strong> for collision detection and tile coverage with <strong>configurable direction increments</strong>:</p><p><strong>Configurable Multi-Directional Support:</strong></p><ul><li><strong>4-direction (default)</strong>: 90° increments (NORTH, EAST, SOUTH, WEST) - RTS-style rotation</li><li><strong>8-direction</strong>: 45° increments (includes diagonals: NE, SE, SW, NW) - isometric games with diagonal movement</li><li><strong>6-direction</strong>: 60° increments (hex-style) - hexagonal grid systems</li><li><strong>12-direction</strong>: 30° increments - fine-grained rotation control</li><li><strong>Custom</strong>: Any increment angle (e.g., 22.5° for 16-direction systems)</li></ul><p><strong>Configuration:</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ManipulationSettings resource</span>
</span></span><span style=display:flex><span><span style=color:#d2a8ff;font-weight:700>@export_range</span>(<span style=color:#a5d6ff>0</span>, <span style=color:#a5d6ff>360</span>, <span style=color:#a5d6ff>0.1</span>) <span style=color:#ff7b72>var</span> rotate_increment_degrees: <span style=color:#ff7b72>float</span> <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>90.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 4-direction (default): 90°</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>90.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 8-direction (isometric with diagonals): 45°</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>45.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 6-direction (hex-style): 60°</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>60.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 12-direction: 30°</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>30.0</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Core Rotation Features:</strong></p><ul><li>Accounts for complex parent transforms (rotation, skew) using transform matrix calculations</li><li>Automatically snaps rotated objects to grid tile centers after rotation</li><li>Returns rotation angle in degrees (0-360 range) for game logic integration</li><li>Works correctly with any increment value - transform math is angle-agnostic</li></ul><p><strong>Use Cases by Direction Count:</strong></p><ul><li><strong>4-direction (90°)</strong>: Top-down/platformer games, simple RTS-style building</li><li><strong>8-direction (45°)</strong>: Isometric games with diagonal movement, enhanced building placement variety</li><li><strong>6-direction (60°)</strong>: Hexagonal grid games requiring rotation alignment</li><li><strong>12-direction (30°)</strong>: Advanced placement systems with fine rotation control</li></ul><p><strong>Plugin Responsibility:</strong> Collision and placement validation logic with configurable grid-aligned rotation
<strong>Your Responsibility:</strong> Visual representation updates (sprite swapping, model rotation, etc.)</p><p><strong>Note:</strong> This grid-aware rotation is always active when using the plugin&rsquo;s rotation features. It ensures correct behavior in isometric games with skewed parent transforms, regardless of the increment angle used.</p><h3 id=horizontal-flip-optimization>Horizontal Flip Optimization</h3><p>For symmetrical buildings, horizontal flip can reduce sprite asset requirements:</p><ul><li>East-facing sprite + flip_h = West-facing appearance</li><li>Reduces memory footprint by 50% for symmetrical buildings</li><li>Only works for visually symmetrical structures</li></ul><p><strong>Note:</strong> North and South facing directions typically require unique sprites for proper isometric perspective.</p><p><strong>Implementation:</strong> This optimization is game-specific. You implement sprite controllers that manage flip states based on building direction.</p><h3 id=building-preview-consistency>Building Preview Consistency</h3><p><strong>Plugin Behavior:</strong> The <a href=../api/IndicatorManager/>IndicatorManager</a> should be a <strong>sibling</strong> of <a href=../api/ManipulationParent/>ManipulationParent</a>, not a child. This prevents indicators from inheriting unwanted transform rotations.</p><p><strong>Scene Hierarchy (Plugin-Managed):</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>GridPositioner2D
</span></span><span style=display:flex><span>├── IndicatorManager (sibling - no rotation inheritance)
</span></span><span style=display:flex><span>│   ├── RuleCheckIndicator (maintains diamond orientation)
</span></span><span style=display:flex><span>│   └── RuleCheckIndicator
</span></span><span style=display:flex><span>└── ManipulationParent (handles collision/logic transforms)
</span></span><span style=display:flex><span>    └── PreviewObject (your building with collision shapes)
</span></span></code></pre></td></tr></table></div></div><p><strong>Your Visual Implementation:</strong></p><ul><li>Attach sprite controllers to <code>PreviewObject</code> for directional visuals</li><li>Sprite appearance changes without rotating the node hierarchy</li><li>Collision shapes rotate logically without affecting visual sprites</li><li>Indicators stay correctly oriented regardless of preview direction</li></ul><h2 id=demo-scene-configuration>Demo Scene Configuration</h2><h3 id=isometric-demo-structure>Isometric Demo Structure</h3><p>Reference the included isometric demo for a complete working example:</p><p><strong>Scene:</strong> <code>res://demos/isometric/demo_isometric_2d.tscn</code></p><p>Key configuration files:</p><ul><li><strong>Composition Container</strong>: <code>res://demos/isometric/settings/isometric_demo_composition_container.tres</code></li><li><strong>Grid Positioner</strong>: <code>res://templates/grid_building_templates/grid_positioner/grid_positioner_stack_isometric.tscn</code></li><li><strong>Indicator Shape</strong>: <code>res://templates/grid_building_templates/indicator/indicator_isometric_shape_50px.tres</code></li><li><strong>Collision Rule</strong>: <code>res://demos/isometric/rules/isometric_collisions_check.tres</code></li></ul><h3 id=placeable-objects>Placeable Objects</h3><p>Isometric buildings typically include:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>buildings/
</span></span><span style=display:flex><span>├── blacksmith_blue_polygon.tscn    # Building with collision shape
</span></span><span style=display:flex><span>├── house_wooden_red.tscn           # Building with collision shape
</span></span><span style=display:flex><span>└── mill_big_green.tscn             # Building with collision shape
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>placeable resources:
</span></span><span style=display:flex><span>├── placeable_blacksmith_blue.tres  # Placeable configuration
</span></span><span style=display:flex><span>├── placeable_house_red.tres        # Placeable configuration  
</span></span><span style=display:flex><span>└── placeable_mill_green.tres       # Placeable configuration
</span></span></code></pre></td></tr></table></div></div><p>Each building scene includes:</p><ul><li>Visual sprites with isometric perspective (rotation + skew)</li><li>Collision shapes (typically <code>ConvexPolygonShape2D</code> or <code>ConcavePolygonShape2D</code>)</li><li>Proper parent/child hierarchy for manipulation</li></ul><h2 id=performance-considerations>Performance Considerations</h2><h3 id=indicator-generation>Indicator Generation</h3><p>For large buildings with many tiles:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Isometric buildings may cover more tiles due to perspective</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Example: 64x64 pixel building = ~12-16 tile positions</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> performance_settings <span style=color:#ff7b72;font-weight:700>=</span> container<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get_performance_settings</span>()
</span></span><span style=display:flex><span>performance_settings<span style=color:#ff7b72;font-weight:700>.</span>max_indicators <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>100</span>  <span style=color:#8b949e;font-style:italic># Adjust based on needs</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=collision-detection-1>Collision Detection</h3><p>Isometric collision detection is handled by Godot&rsquo;s 2D physics engine:</p><ul><li><strong>ShapeCast2D</strong>: Used by indicators for efficient tile checking</li><li><strong>Polygon shapes</strong>: Negligible performance difference vs rectangles</li><li><strong>Layer masking</strong>: Reduces unnecessary collision checks</li></ul><p><strong>Best practice:</strong> Use collision masks to filter out irrelevant layers (e.g., don&rsquo;t check player collision layer for building placement).</p><h2 id=related-documentation>Related Documentation</h2><ul><li><a href=./manipulation_system.mdx>ManipulationSystem</a> - Object rotation and manipulation</li><li><a href=./placement_rules.mdx>PlacementRules</a> - Rule validation system</li><li><a href=./grid_targeting.mdx>Grid Targeting</a> - Targeting and positioning system</li><li><a href=./collision_mapping.mdx>Collision Mapping</a> - Collision detection and tile mapping</li><li><a href=../api/RuleCheckIndicator/>RuleCheckIndicator API</a> - Indicator implementation details</li><li><a href=./project_architecture.mdx>Project Architecture</a> - Scene hierarchy and component relationships</li></ul><h2 id=quick-start-checklist>Quick Start Checklist</h2><p>Setting up Grid Building for isometric games:</p><ul><li><input disabled type=checkbox> Configure <code>GridTargeter</code> with <code>rotation = 0.523599</code> and <code>skew = 0.523599</code></li><li><input disabled type=checkbox> Use <code>ConvexPolygonShape2D</code> for indicator shapes (not skewed rectangles)</li><li><input disabled type=checkbox> Set up <code>TileMapLayer</code> with appropriate tile size (e.g., 50x50)</li><li><input disabled type=checkbox> Configure collision layers (typically layer 0 for ground, layer 9 for buildings)</li><li><input disabled type=checkbox> Set <code>collision_mask = 513</code> for <a href=../api/CollisionsCheckRule/>CollisionsCheckRule</a> (layers 0 + 9)</li><li><input disabled type=checkbox> Parent indicators to <a href=../api/ManipulationParent/>ManipulationParent</a> for coordinated transforms</li><li><input disabled type=checkbox> Configure visual sprites with rotation + skew for isometric perspective</li><li><input disabled type=checkbox> Test collision detection with various building sizes</li></ul><p><strong>Visual Representation (Your Implementation):</strong></p><ul><li><input disabled type=checkbox> <strong>Static buildings:</strong> Create single-direction sprites (typically South/Southeast facing)</li><li><input disabled type=checkbox> <strong>Directional buildings (advanced):</strong> Implement sprite controller systems for 4+ directions</li><li><input disabled type=checkbox> <strong>Disable plugin rotation</strong> if using sprite sequences: <code>manipulation_settings.allow_rotation = false</code></li><li><input disabled type=checkbox> See <a href=./extending-plugin>Extending the Plugin</a> guide for implementing custom visual systems</li></ul><h2 id=summary>Summary</h2><p>Successfully implementing Grid Building in isometric games requires attention to:</p><h3 id=core-configuration>Core Configuration</h3><ol><li><strong>Coordinate System</strong>: Use <code>GridTargeter</code> with 30° rotation + skew for isometric perspective</li><li><strong>Indicator Shapes</strong>: Always use <code>ConvexPolygonShape2D</code> with explicit diamond points</li><li><strong>Transform Separation</strong>: Keep collision shapes (no skew) separate from visual sprites (with skew)</li><li><strong>Scene Hierarchy</strong>: Make <a href=../api/IndicatorManager/>IndicatorManager</a> a sibling of <a href=../api/ManipulationParent/>ManipulationParent</a> to prevent unwanted rotation inheritance</li></ol><h3 id=visual-representation-game-specific>Visual Representation (Game-Specific)</h3><p>The plugin provides <strong>placement logic and collision detection</strong>. Visual implementation is your responsibility:</p><ul><li><strong>Static approach:</strong> Buildings use single-direction sprites (South/Southeast facing typical)</li><li><strong>Directional approach:</strong> You implement sprite controller systems that swap textures based on orientation</li><li><strong>Best practice:</strong> Avoid node rotation on isometric sprites - use sprite sequences instead</li><li><strong>Reference:</strong> See <a href=./extending-plugin>Extending the Plugin</a> for architectural patterns</li></ul><h3 id=key-plugin-integration-points>Key Plugin Integration Points</h3><ul><li><strong>Plugin handles:</strong> Tile coordinate conversion, collision detection, placement validation, indicator management</li><li><strong>You handle:</strong> Visual representation, sprite management, directional artwork, custom manipulation actions</li><li><strong>Architecture:</strong> Composition over extension - wrap plugin systems with your visual implementations</li></ul><h3 id=best-practices-1>Best Practices</h3><ul><li>Reference the included isometric demo for working examples</li><li>Use collision layer masking to optimize performance</li><li>Keep visual and collision transforms separate for maintainability</li><li>Test with simplified sprites first before adding directional complexity</li></ul><p>This approach ensures your isometric building system maintains correct visual appearance, reliable collision detection, and authentic isometric aesthetics throughout all gameplay scenarios.</p></div></main><aside class=gb-toc><div class=gb-toc-title>On this page</div><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#isometric-coordinate-system>Isometric Coordinate System</a><ul><li><a href=#transform-configuration>Transform Configuration</a></li><li><a href=#scene-hierarchy>Scene Hierarchy</a></li></ul></li><li><a href=#tilemaplayer-configuration>TileMapLayer Configuration</a><ul><li><a href=#isometric-tileset-setup>Isometric Tileset Setup</a></li><li><a href=#tile-coordinate-conversion>Tile Coordinate Conversion</a></li></ul></li><li><a href=#positioning-and-targeting>Positioning and Targeting</a><ul><li><a href=#gridpositioner2d-configuration>GridPositioner2D Configuration</a></li><li><a href=#mouse-input-handling>Mouse Input Handling</a></li></ul></li><li><a href=#collision-detection>Collision Detection</a><ul><li><a href=#physics-layer-configuration>Physics Layer Configuration</a></li><li><a href=#collision-mask-setup>Collision Mask Setup</a></li><li><a href=#indicator-collision-shapes>Indicator Collision Shapes</a></li></ul></li><li><a href=#indicator-shapes-critical-parenting-architecture>Indicator Shapes: Critical Parenting Architecture</a><ul><li><a href=#-the-real-problem-parent-transform-inheritance>⚠️ The Real Problem: Parent Transform Inheritance</a></li><li><a href=#-choosing-the-right-hierarchy>✅ Choosing the Right Hierarchy</a></li><li><a href=#shape-choice-polygon-recommended-but-not-required>Shape Choice: Polygon Recommended (But Not Required)</a></li></ul></li><li><a href=#template-configuration>Template Configuration</a><ul><li><a href=#isometric-indicator-shape-resource>Isometric Indicator Shape Resource</a></li><li><a href=#isometric-indicator-scene-template>Isometric Indicator Scene Template</a></li></ul></li><li><a href=#creating-custom-isometric-shapes>Creating Custom Isometric Shapes</a></li><li><a href=#integration-with-manipulationparent>Integration with ManipulationParent</a><ul><li><a href=#grid-aware-rotation-behavior-v500>Grid-Aware Rotation Behavior (v5.0.0)</a></li><li><a href=#shape-behavior-during-rotation>Shape Behavior During Rotation</a></li><li><a href=#scene-hierarchy-1>Scene Hierarchy</a></li></ul></li><li><a href=#best-practices>Best Practices</a><ul><li><a href=#-do>✅ DO:</a></li><li><a href=#-dont>❌ DON&rsquo;T:</a></li></ul></li><li><a href=#troubleshooting>Troubleshooting</a><ul><li><a href=#indicators-look-distorted-when-rotating-buildings>Indicators look distorted when rotating buildings</a></li><li><a href=#indicators-dont-align-with-tiles>Indicators don&rsquo;t align with tiles</a></li><li><a href=#performance-concerns-with-polygon-shapes>Performance concerns with polygon shapes</a></li></ul></li><li><a href=#building-and-manipulation-in-isometric-games>Building and Manipulation in Isometric Games</a><ul><li><a href=#-rotation-best-practices-sprite-sequences-not-transform-rotation>⚠️ Rotation Best Practices: Sprite Sequences, Not Transform Rotation</a><ul><li><a href=#why-sprite-sequences>Why Sprite Sequences?</a></li><li><a href=#implementation-approach-directional-sprite-systems>Implementation Approach: Directional Sprite Systems</a></li><li><a href=#rotation-modes-for-isometric-buildings>Rotation Modes for Isometric Buildings</a></li><li><a href=#grid-aware-rotation-built-in>Grid-Aware Rotation (Built-In)</a></li></ul></li><li><a href=#horizontal-flip-optimization>Horizontal Flip Optimization</a></li><li><a href=#building-preview-consistency>Building Preview Consistency</a></li></ul></li><li><a href=#demo-scene-configuration>Demo Scene Configuration</a><ul><li><a href=#isometric-demo-structure>Isometric Demo Structure</a></li><li><a href=#placeable-objects>Placeable Objects</a></li></ul></li><li><a href=#performance-considerations>Performance Considerations</a><ul><li><a href=#indicator-generation>Indicator Generation</a></li><li><a href=#collision-detection-1>Collision Detection</a></li></ul></li><li><a href=#related-documentation>Related Documentation</a></li><li><a href=#quick-start-checklist>Quick Start Checklist</a></li><li><a href=#summary>Summary</a><ul><li><a href=#core-configuration>Core Configuration</a></li><li><a href=#visual-representation-game-specific>Visual Representation (Game-Specific)</a></li><li><a href=#key-plugin-integration-points>Key Plugin Integration Points</a></li><li><a href=#best-practices-1>Best Practices</a></li></ul></li></ul></nav></aside><footer class=gb-footer><p>&copy; 2025 Chris Tutorials. All rights reserved.</p><p>Built with <a href=https://gohugo.io/ target=_blank>Hugo</a> and
<a href=https://godotengine.org/ target=_blank>Godot</a>.</p></footer></div></body></html>