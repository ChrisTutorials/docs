<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>v5.0 to v5.1 Migration Guide | GridBuilding Plugin</title>
<meta name=description content="Upgrading your GridBuilding plugin from GDScript-based v5.0 to the new C#-based v5.1 architecture"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hugo 0.146.5"></head><body><div class=gb-layout><header class=gb-header><a href=/ class=gb-brand><i class="fas fa-cubes" style=color:var(--gb-primary)></i>
<span>GridBuilding Plugin</span></a><div class=gb-search><i class="fas fa-search"></i>
<input type=text placeholder="Search documentation..." aria-label=Search></div><nav class=gb-nav><a href=/ class=gb-nav-link>Home
</a><a href=/v6.0/overview/ class=gb-nav-link>Documentation
</a><a href=/v5.1/overview/ class=gb-nav-link>Grid Building Plugin Overview
</a><a href=/v6.0/api/ class=gb-nav-link>API Reference
</a><a href=/v5.1/guides/ class=gb-nav-link>Getting Started Guides
</a><a href=/v6.0/examples/ class=gb-nav-link>Examples
</a><a href=/v5.1/examples/ class=gb-nav-link>Code Examples
</a><a href=/community/ class=gb-nav-link>Community
</a><a href=/v5.1/architecture-diagrams/ class=gb-nav-link>Architecture Diagrams</a></nav></header><aside class=gb-sidebar><nav class=gb-sidebar-nav><div class=gb-sidebar-section><div class=gb-sidebar-title>V6.0s</div><a href=/v6.0/guides/6-0-readiness-status/ class=gb-sidebar-link>GridBuilding 6.0 Readiness Status
</a><a href=/v6.0/guides/getting_started/ class=gb-sidebar-link>Getting Started with GridBuilding
</a><a href=/v6.0/guides/mode-architecture/ class=gb-sidebar-link>GridBuilding 6.0 Mode Architecture
</a><a href=/v6.0/guides/gdscript-to-csharp-mapping/ class=gb-sidebar-link>GDScript to C# Migration Guide
</a><a href=/v6.0/guides/csharp_state_integration/ class=gb-sidebar-link>C# State Integration with Godot Frontend
</a><a href=/v6.0/guides/troubleshooting/ class=gb-sidebar-link>Troubleshooting Guide
</a><a href=/v6.0/examples/godot_integration_example/ class=gb-sidebar-link>Godot Integration Example
</a><a href=/gridbuilding/v6.0-public/guides/dependency-resolution/ class=gb-sidebar-link>Dependency Resolution in GridBuilding v6.0 (Godot)
</a><a href=/gridbuilding/v6.0-public/guides/userid-quickstart/ class=gb-sidebar-link>Quick Start: Game-Owned UserId & Multi-Owner Orchestrators
</a><a href=/gridbuilding/v6.0-public/guides/building-system-architecture/ class=gb-sidebar-link>BuildingSystem Architecture (Legacy Session Orchestrator)
</a><a href=/gridbuilding/v6.0-public/guides/multi-owner-orchestration-priorities/ class=gb-sidebar-link>Multi-Owner Orchestration Priorities (v6.0)
</a><a href=/gridbuilding/v6.0/guides/placement-system-architecture/ class=gb-sidebar-link>Placement System and Architecture in GridBuilding v6.0 (Godot)
</a><a href=/gridbuilding/v6.0-public/guides/manipulation-system-architecture/ class=gb-sidebar-link>ManipulationSystemNode Architecture (Session Orchestrator)
</a><a href=/v6.0/guides/service_based_architecture/ class=gb-sidebar-link>Service-Based Architecture
</a><a href=/gridbuilding/v6-0/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.1.0</div><a href=/v5.1/overview/ class=gb-sidebar-link>Grid Building Plugin Overview
</a><a href=/v5.1/guides/ class=gb-sidebar-link>Getting Started Guides
</a><a href=/v5.1/api/ class=gb-sidebar-link>C# API Reference
</a><a href=/v5.1/examples/ class=gb-sidebar-link>Code Examples
</a><a href=/v5.1/architecture-diagrams/ class=gb-sidebar-link>Architecture Diagrams
</a><a href=/v5.1/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.1/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.1/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.1/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.0.0</div><a href=/v5.0/api/ class=gb-sidebar-link>GDScript API Reference
</a><a href=/v5.0/overview/ class=gb-sidebar-link></a><a href=/v5.0/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.0/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.0/guides/ class=gb-sidebar-link>Plugin Overview
</a><a href=/v5.0/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.0/validation/ class=gb-sidebar-link>Validation Tools</a></div></nav></aside><main class=gb-main><div class=gb-content><h1>v5.0 to v5.1 Migration Guide</h1><h1 id=migrating-to-gridbuilding-v51-c>Migrating to GridBuilding v5.1 (C#)</h1><p>This guide helps you upgrade your project from GridBuilding v5.0 (GDScript-based) to v5.1 (pure C# architecture). The new architecture provides significant performance and reliability improvements.</p><h2 id=-whats-changing>ğŸ¯ What&rsquo;s Changing?</h2><p>GridBuilding v5.1 introduces a <strong>Service-Based Architecture</strong> written in pure C#. This change affects how you interact with the plugin&rsquo;s core systems, but the Godot-facing API (nodes, resources, signals) remains familiar.</p><table><thead><tr><th>Component</th><th>v5.0 (GDScript)</th><th>v5.1 (C#)</th><th>Benefit</th></tr></thead><tbody><tr><td><strong>State Objects</strong></td><td>Godot Resources</td><td>Pure C# Classes</td><td>Significantly faster test execution [internal testing]</td></tr><tr><td><strong>Core Systems</strong></td><td>Godot Nodes</td><td>Service Classes</td><td>Compile-time type safety</td></tr><tr><td><strong>Data Objects</strong></td><td>Godot Resources</td><td>C# Classes</td><td>Better encapsulation</td></tr><tr><td><strong>UI Components</strong></td><td>Godot Nodes</td><td>Godot Nodes</td><td>No change</td></tr></tbody></table><h2 id=-key-architectural-changes>ğŸ”„ Key Architectural Changes</h2><h3 id=state-management>State Management</h3><p>State objects are no longer Godot Resources. They are now pure C# classes, which means:</p><ul><li><strong>Faster Access</strong>: No Godot overhead for state operations</li><li><strong>Better Testing</strong>: States can be tested without Godot</li><li><strong>Type Safety</strong>: Compile-time error checking</li></ul><h3 id=service-layer>Service Layer</h3><p>Business logic is now handled by dedicated Service classes:</p><ul><li><strong>BuildingService</strong>: Manages build operations</li><li><strong>ManipulationService</strong>: Handles object transformations</li><li><strong>InputService</strong>: Processes user input</li></ul><h3 id=communication-pattern>Communication Pattern</h3><p>The new architecture uses a strict unidirectional flow:</p><ol><li><strong>Godot Layer</strong> calls <strong>Service</strong> methods</li><li><strong>Service</strong> updates <strong>State</strong></li><li><strong>Service</strong> fires <strong>Events</strong></li><li><strong>Godot Layer</strong> listens to <strong>Events</strong> and updates visuals</li></ol><h2 id=-migration-checklist>ğŸ“‹ Migration Checklist</h2><h3 id=before-you-start>Before You Start</h3><ul><li><input disabled type=checkbox> <strong>Backup your project</strong></li><li><input disabled type=checkbox> <strong>Note any custom modifications</strong> to GridBuilding scripts</li><li><input disabled type=checkbox> <strong>Disable GridBuilding plugin</strong> temporarily</li></ul><h3 id=migration-steps>Migration Steps</h3><h4 id=1-update-plugin>1. Update Plugin</h4><ol><li>Remove the old GridBuilding plugin folder</li><li>Install the new GridBuilding v5.1 plugin</li><li>Re-enable the plugin in Godot settings</li></ol><h4 id=2-update-your-code>2. Update Your Code</h4><p><strong>Most of your code will work without changes</strong>, but check these areas:</p><p><strong>State Access (If Directly Accessed)</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Old v5.0 way (if you accessed state directly)</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>var</span> state <span style=color:#ff7b72;font-weight:700>=</span> $GridBuilding<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>get_state</span>()
</span></span><span style=display:flex><span>state<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>set_current_placeable</span>(my_placeable)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># New v5.1 way (use the service API)</span>
</span></span><span style=display:flex><span>$GridBuilding<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>enter_build_mode</span>(my_placeable)
</span></span></code></pre></td></tr></table></div></div><p><strong>Custom Signals</strong></p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Old v5.0 way</span>
</span></span><span style=display:flex><span>$GridBuilding<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>connect</span>(<span style=color:#a5d6ff>&#34;building_placed&#34;</span>, self, <span style=color:#a5d6ff>&#34;_on_building_placed&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># New v5.1 way (signals remain the same)</span>
</span></span><span style=display:flex><span>$GridBuilding<span style=color:#ff7b72;font-weight:700>.</span>building_placed<span style=color:#ff7b72;font-weight:700>.</span><span style=color:#d2a8ff;font-weight:700>connect</span>(_on_building_placed)
</span></span></code></pre></td></tr></table></div></div><h4 id=3-verify-functionality>3. Verify Functionality</h4><ul><li><input disabled type=checkbox> Test basic building placement</li><li><input disabled type=checkbox> Test manipulation (move/rotate/delete)</li><li><input disabled type=checkbox> Check custom UI integration</li><li><input disabled type=checkbox> Verify save/load functionality</li></ul><h2 id=-performance-benefits-youll-see>ğŸš€ Performance Benefits You&rsquo;ll See</h2><ul><li><strong>Faster Build Mode</strong>: Entering build mode is significantly faster [internal testing]</li><li><strong>Smoother UI</strong>: State updates no longer block the main thread</li><li><strong>Better Error Messages</strong>: Compile-time errors catch issues early</li><li><strong>Improved Stability</strong>: Strong typing prevents many runtime errors</li></ul><h2 id=-common-migration-issues>ğŸ› ï¸ Common Migration Issues</h2><h3 id=issue-cant-find-state-property>Issue: &ldquo;Can&rsquo;t find state property&rdquo;</h3><p><strong>Cause</strong>: Direct state access is no longer supported.
<strong>Solution</strong>: Use the service API methods instead.</p><h3 id=issue-custom-scripts-dont-compile>Issue: Custom scripts don&rsquo;t compile</h3><p><strong>Cause</strong>: API changes in core systems.
<strong>Solution</strong>: Check the <a href=/v5.1/api/>API Reference</a> for updated method signatures.</p><h3 id=issue-performance-seems-slower>Issue: Performance seems slower</h3><p><strong>Cause</strong>: First-time C# compilation overhead.
<strong>Solution</strong>: This is normal. Performance improves after the initial run.</p><h2 id=-getting-help>ğŸ“ Getting Help</h2><p>If you encounter issues during migration:</p><ol><li><strong>Check the API Reference</strong> for updated methods</li><li><strong>Review the Service Architecture</strong> guide</li><li><strong>Ask in the community</strong> for help from other developers</li></ol><h2 id=-youre-done>ğŸ‰ You&rsquo;re Done!</h2><p>After migration, you&rsquo;ll have a more robust, faster, and maintainable GridBuilding system. The new C# foundation enables future features and better performance.</p><hr><p><strong>For detailed technical changes</strong>, see the <a href=../../../../plugins/GridBuilding/docs/CLASS_MAPPING_DOCUMENTATION.md>Class Mapping Documentation</a> in the plugin repository.</p></div></main><aside class=gb-toc><div class=gb-toc-title>On this page</div><nav id=TableOfContents><ul><li><a href=#-whats-changing>ğŸ¯ What&rsquo;s Changing?</a></li><li><a href=#-key-architectural-changes>ğŸ”„ Key Architectural Changes</a><ul><li><a href=#state-management>State Management</a></li><li><a href=#service-layer>Service Layer</a></li><li><a href=#communication-pattern>Communication Pattern</a></li></ul></li><li><a href=#-migration-checklist>ğŸ“‹ Migration Checklist</a><ul><li><a href=#before-you-start>Before You Start</a></li><li><a href=#migration-steps>Migration Steps</a><ul><li><a href=#1-update-plugin>1. Update Plugin</a></li><li><a href=#2-update-your-code>2. Update Your Code</a></li><li><a href=#3-verify-functionality>3. Verify Functionality</a></li></ul></li></ul></li><li><a href=#-performance-benefits-youll-see>ğŸš€ Performance Benefits You&rsquo;ll See</a></li><li><a href=#-common-migration-issues>ğŸ› ï¸ Common Migration Issues</a><ul><li><a href=#issue-cant-find-state-property>Issue: &ldquo;Can&rsquo;t find state property&rdquo;</a></li><li><a href=#issue-custom-scripts-dont-compile>Issue: Custom scripts don&rsquo;t compile</a></li><li><a href=#issue-performance-seems-slower>Issue: Performance seems slower</a></li></ul></li><li><a href=#-getting-help>ğŸ“ Getting Help</a></li><li><a href=#-youre-done>ğŸ‰ You&rsquo;re Done!</a></li></ul></nav></aside><footer class=gb-footer><p>&copy; 2025 Chris Tutorials. All rights reserved.</p><p>Built with <a href=https://gohugo.io/ target=_blank>Hugo</a> and
<a href=https://godotengine.org/ target=_blank>Godot</a>.</p></footer></div></body></html>