<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Manipulation System | GridBuilding Plugin</title>
<meta name=description content="Manipulation System documentation for the Grid Building system"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link rel=stylesheet href=/css/custom.css><meta name=generator content="Hugo 0.146.5"></head><body><div class=gb-layout><header class=gb-header><a href=/ class=gb-brand><i class="fas fa-cubes" style=color:var(--gb-primary)></i>
<span>GridBuilding Plugin</span></a><div class=gb-search><i class="fas fa-search"></i>
<input type=text placeholder="Search documentation..." aria-label=Search></div><nav class=gb-nav><a href=/ class=gb-nav-link>Home
</a><a href=/v6.0/overview/ class=gb-nav-link>Documentation
</a><a href=/v5.1/overview/ class=gb-nav-link>Grid Building Plugin Overview
</a><a href=/v6.0/api/ class=gb-nav-link>API Reference
</a><a href=/v5.1/guides/ class=gb-nav-link>Getting Started Guides
</a><a href=/v6.0/examples/ class=gb-nav-link>Examples
</a><a href=/v5.1/examples/ class=gb-nav-link>Code Examples
</a><a href=/community/ class=gb-nav-link>Community
</a><a href=/v5.1/architecture-diagrams/ class=gb-nav-link>Architecture Diagrams</a></nav></header><aside class=gb-sidebar><nav class=gb-sidebar-nav><div class=gb-sidebar-section><div class=gb-sidebar-title>V6-0s</div><a href=/v6-0/guides/getting_started/ class=gb-sidebar-link>Getting Started with GridBuilding
</a><a href=/v6.0/guides/gdscript-to-csharp-mapping/ class=gb-sidebar-link>GDScript to C# Migration Guide
</a><a href=/v6-0/guides/csharp_state_integration/ class=gb-sidebar-link>C# State Integration with Godot Frontend
</a><a href=/v6-0/guides/troubleshooting/ class=gb-sidebar-link>Troubleshooting Guide
</a><a href=/v6-0/examples/godot_integration_example/ class=gb-sidebar-link>Godot Integration Example
</a><a href=/v6-0/guides/service_based_architecture/ class=gb-sidebar-link>Service-Based Architecture
</a><a href=/gridbuilding/v6-0/api/ class=gb-sidebar-link>GridBuilding API Reference</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.1.0</div><a href=/v5.1/overview/ class=gb-sidebar-link>Grid Building Plugin Overview
</a><a href=/v5.1/guides/ class=gb-sidebar-link>Getting Started Guides
</a><a href=/v5.1/api/ class=gb-sidebar-link>C# API Reference
</a><a href=/v5.1/examples/ class=gb-sidebar-link>Code Examples
</a><a href=/v5.1/architecture-diagrams/ class=gb-sidebar-link>Architecture Diagrams
</a><a href=/v5.1/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.1/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.1/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.1/validation/ class=gb-sidebar-link>Validation Tools</a></div><div class=gb-sidebar-section><div class=gb-sidebar-title>Grid Building Plugin v5.0.0</div><a href=/v5.0/api/ class=gb-sidebar-link>GDScript API Reference
</a><a href=/v5.0/debugging/ class=gb-sidebar-link>Debug Tools
</a><a href=/v5.0/overview/ class=gb-sidebar-link>Grid Building Plugin v5.0.0
</a><a href=/v5.0/migration/ class=gb-sidebar-link>Migration Guide
</a><a href=/v5.0/guides/ class=gb-sidebar-link>Plugin Overview
</a><a href=/v5.0/testing/ class=gb-sidebar-link>Testing
</a><a href=/v5.0/validation/ class=gb-sidebar-link>Validation Tools</a></div></nav></aside><main class=gb-main><div class=gb-content><h1>Manipulation System</h1><h2 id=rotation--variant-handling>Rotation & Variant Handling</h2><h3 id=grid-aware-rotation-system>Grid-Aware Rotation System</h3><p>The manipulation system features a <strong>configurable grid-aware rotation system</strong> that automatically handles complex transform hierarchies, particularly important for isometric games with skewed parent transforms.</p><p><strong>Rotation Increment Configuration:</strong></p><p>Rotation is controlled by <code>rotate_increment_degrees</code> in <a href=../api/ManipulationSettings/>ManipulationSettings</a>. The system supports any increment angle:</p><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># ManipulationSettings configuration examples</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 4-direction (default): 90¬∞ increments - RTS-style</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>90.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 8-direction: 45¬∞ increments - isometric with diagonals</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>45.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 6-direction: 60¬∞ increments - hex-style grids</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>60.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 12-direction: 30¬∞ increments - fine-grained control</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>30.0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># 16-direction: 22.5¬∞ increments - high precision</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>22.5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Custom: Any angle supported</span>
</span></span><span style=display:flex><span>manipulation_settings<span style=color:#ff7b72;font-weight:700>.</span>rotate_increment_degrees <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>15.0</span>  <span style=color:#8b949e;font-style:italic># 24 directions</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Common Use Cases by Direction Count:</strong></p><table><thead><tr><th>Directions</th><th>Increment</th><th>Best For</th></tr></thead><tbody><tr><td>4-direction</td><td>90¬∞</td><td>Top-down games, simple RTS-style building, platformers</td></tr><tr><td>6-direction</td><td>60¬∞</td><td>Hexagonal grid systems requiring rotation alignment</td></tr><tr><td>8-direction</td><td>45¬∞</td><td>Isometric games with diagonal movement, enhanced placement variety</td></tr><tr><td>12-direction</td><td>30¬∞</td><td>Advanced placement systems with fine rotation control</td></tr><tr><td>16-direction</td><td>22.5¬∞</td><td>High-precision rotation, specialized building mechanics</td></tr><tr><td>Custom</td><td>Any angle</td><td>Game-specific rotation requirements</td></tr></tbody></table><p><strong>Grid-Aware Rotation Features:</strong></p><ul><li><strong>Transform Matrix Math</strong>: Correctly handles complex parent hierarchies (rotation + skew) using transform matrices</li><li><strong>Automatic Grid Snapping</strong>: Snaps rotated objects to grid tile centers after rotation</li><li><strong>Angle-Agnostic</strong>: Transform math works correctly with any increment value</li><li><strong>Isometric Support</strong>: Properly accounts for skewed parent transforms in isometric projections</li><li><strong>Return Value</strong>: Returns rotation angle in degrees (0-360 range) for game logic integration</li></ul><p>The system <strong>never mutates the original resource</strong>; it applies rotation through transforms passed to rule evaluation.</p><h3 id=variant-changes>Variant Changes</h3><p>Variant changes (from the UI) trigger:</p><ul><li>Reset rotation (configurable ‚Äì default: preserve rotation)</li><li>Clear cached collision geometry (variant may have different shapes)</li><li>Re‚Äëevaluate rules immediately</li></ul><h2 id=interaction-with-placement-chain>Interaction with Placement Chain</h2><p>The Manipulation System produces a <em>placement context</em> consumed by the Placement Chain (<code>systems/placement_chain.md</code>):</p><ul><li>World position / snapped tile</li><li>Active placeable & variant data</li><li>Indicator collision setup</li><li>Previously computed collision tiles (optional reuse)</li></ul><p>The chain returns aggregated rule results which the Manipulation System maps to: indicator tint, tooltip text, can_place flag.</p><h2 id=event-flow>Event Flow</h2><table><thead><tr><th>Trigger</th><th>System Reaction</th></tr></thead><tbody><tr><td>Selection changed</td><td>Reset state, build new preview indicator</td></tr><tr><td>Move cursor</td><td>Rebuild test setup ‚Üí rule pass ‚Üí indicator update</td></tr><tr><td>Rotate (action)</td><td>Adjust rotation ‚Üí invalidate tiles ‚Üí rule pass</td></tr><tr><td>Cycle variant</td><td>Swap variant ref ‚Üí invalidate tiles ‚Üí rule pass</td></tr><tr><td>Confirm place</td><td>If <code>can_place</code> true: emit placed event, persist structure, optionally keep preview (multi‚Äëplace mode)</td></tr><tr><td>Cancel</td><td>Clear preview; state returns to idle</td></tr></tbody></table><h2 id=post-placement-commands-move--demolish--info>Post-Placement Commands (Move / Demolish / Info)</h2><p>The Manipulation System also mediates interactions with <strong>existing</strong> placed instances:</p><table><thead><tr><th>Command</th><th>High-Level Steps</th><th>Notes</th></tr></thead><tbody><tr><td>Move</td><td>Pick instance ‚Üí capture its resource + state ‚Üí enter move preview (same validation loop) ‚Üí confirm to re‚Äëinstantiate at new location ‚Üí remove original</td><td>Original instance remains until confirm; cancel restores without changes.</td></tr><tr><td>Demolish</td><td>Select instance ‚Üí optional dependency / cost check ‚Üí remove node + free resources ‚Üí emit demolish event</td><td>Can reuse rule pipeline for pre-removal constraints.</td></tr><tr><td>Info</td><td>Hover/select ‚Üí fetch <a href=../api/PlaceableInstance/>PlaceableInstance</a> metadata ‚Üí display UI panel / tooltip</td><td>No rule validation; may highlight occupied tiles.</td></tr></tbody></table><p>State Transitions:</p><ul><li>Idle ‚Üí Move: sets selected_placeable from instance, enters preview mode.</li><li>Idle ‚Üí Demolish: triggers removal path (no preview) or enters a confirm overlay state.</li><li>Idle ‚Üí Info: temporary highlight; state often stays Idle (non-exclusive).</li></ul><p>Input Mapping Examples (conceptual ‚Äì defined in <a href=../api/GBActions/>GBActions</a>):</p><ul><li><code>gb_move</code></li><li><code>gb_demolish</code></li><li><code>gb_info</code></li></ul><p>These actions integrate with the Placement Chain (see <code>systems/placement_chain.md#move--demolish--info-commands</code>) for shared validation & feedback when applicable.</p><h2 id=automatic-cancellation--cleanup>Automatic Cancellation & Cleanup</h2><h3 id=-edge-case-protection>üõ°Ô∏è Edge Case Protection</h3><p>The manipulation system includes <strong>automatic cancellation</strong> to handle edge cases where the source object is deleted during an active manipulation:</p><p><strong>Scenario:</strong> Player starts moving an object, but the original source node gets deleted (by external systems, gameplay events, or user actions) before the move is confirmed.</p><p><strong>Automatic Behavior:</strong></p><ol><li><strong>Source Monitoring</strong>: ManipulationSystem monitors the source object&rsquo;s <code>tree_exiting</code> signal during active manipulations</li><li><strong>Auto-Cancel</strong>: When source deletion is detected, manipulation is automatically canceled</li><li><strong>Cleanup</strong>: Preview copy is freed and manipulation state is reset</li><li><strong>Indicator Cleanup</strong>: IndicatorManager listens to <code>manipulation.canceled</code> signal and automatically frees all active indicators</li></ol><p><strong>Signal Flow:</strong></p><pre tabindex=0><code>Source Node Deleted
  ‚Üì
tree_exiting signal
  ‚Üì
ManipulationSystem._on_source_tree_exiting()
  ‚Üì
cancel() called ‚Üí data.status = CANCELED
  ‚Üì
ManipulationState.canceled signal emitted
  ‚Üì
IndicatorManager._on_manipulation_canceled()
  ‚Üì
Indicators freed, state cleaned up
</code></pre><p><strong>Benefits:</strong></p><ul><li><strong>No Orphaned Nodes</strong>: Prevents preview copies and indicators from remaining in scene after source deletion</li><li><strong>Consistent State</strong>: Manipulation state automatically returns to idle</li><li><strong>Signal-Based Architecture</strong>: Decoupled cleanup via signals (IndicatorManager doesn&rsquo;t need direct ManipulationSystem references)</li><li><strong>Defensive Programming</strong>: Handles unexpected deletion scenarios gracefully</li></ul><p><strong>Implementation Details:</strong></p><ul><li>Signal connection happens in <code>ManipulationSystem._start_move()</code> when manipulation begins</li><li>Signal disconnection happens in <code>cancel()</code> to prevent memory leaks</li><li>IndicatorManager connects to cancellation signal during initialization via dependency injection</li></ul><p>This automatic cleanup ensures robust behavior even when game logic or external systems delete objects unexpectedly during manipulation operations.</p><h2 id=performance-notes>Performance Notes</h2><ul><li>Per‚Äëframe validation only active while previewing; system can suspend checks if the cursor hasn&rsquo;t moved and no rotation/variant change occurred (micro‚Äëoptimization).</li><li>Cached tile map keyed by (variant_id, rotation, snapped_tile) can amortize rapid back‚Äëand‚Äëforth cursor motion.</li></ul><h2 id=extensibility>Extensibility</h2><p>Add new interaction (e.g. scaling) by:</p><ol><li>Extending <a href=../api/ManipulationSettings/>ManipulationSettings</a> to hold scale steps</li><li>Injecting scale into test setup transform</li><li>Adjust rule evaluators that depend on size</li></ol><h2 id=how-rotation--indicators-work>How Rotation & Indicators Work</h2><h3 id=polygon-based-collision-why-its-better-than-aabb>Polygon-Based Collision (Why It&rsquo;s Better Than AABB)</h3><p>The system uses <strong>polygon-based collision geometry</strong> instead of axis-aligned bounding boxes (AABB) for indicator generation. This provides <strong>rotation-independent tile calculations</strong>.</p><p><strong>The AABB Problem:</strong></p><pre tabindex=0><code>5x5 object at 0¬∞ ‚Üí 25 tiles
5x5 object at 45¬∞ ‚Üí 49 tiles (box expands diagonally!)
5x5 object at 90¬∞ ‚Üí 25 tiles
</code></pre><p>AABB grows with rotation, causing inconsistent tile counts and confusing player experience.</p><p><strong>The Polygon Solution:</strong></p><pre tabindex=0><code>5x5 object at 0¬∞ ‚Üí 25 tiles
5x5 object at 45¬∞ ‚Üí 25 tiles (same!)
5x5 object at 90¬∞ ‚Üí 25 tiles (same!)
</code></pre><p>Uses actual collision shape geometry, providing consistent results regardless of rotation.</p><h3 id=implementation-normalize--calculate--display>Implementation: Normalize ‚Üí Calculate ‚Üí Display</h3><div class=highlight><div style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#737679">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript data-lang=gdscript><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Step 1: Normalize for calculation (canonical geometry)</span>
</span></span><span style=display:flex><span>copy<span style=color:#ff7b72;font-weight:700>.</span>rotation <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>0.0</span>  <span style=color:#8b949e;font-style:italic># Polygon maintains exact shape</span>
</span></span><span style=display:flex><span><span style=color:#d2a8ff;font-weight:700>calculate_tiles</span>(copy)  <span style=color:#8b949e;font-style:italic># Always consistent count</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Step 2: Transfer rotation for display</span>
</span></span><span style=display:flex><span>ManipulationParent<span style=color:#ff7b72;font-weight:700>.</span>rotation <span style=color:#ff7b72;font-weight:700>=</span> original_rotation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Step 3: Scene tree inheritance</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># All child indicators automatically inherit rotation</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Key Benefit</strong>: Calculate with canonical geometry, display with inherited transforms. Best of both worlds!</p><h3 id=transform-inheritance-architecture>Transform Inheritance Architecture</h3><pre tabindex=0><code>ManipulationParent (rotation=90¬∞)
‚îú‚îÄ‚îÄ Preview Object       ‚Üê Inherits rotation automatically
‚îî‚îÄ‚îÄ IndicatorManager
    ‚îî‚îÄ‚îÄ Indicators (25)  ‚Üê All inherit parent rotation
</code></pre><p>This ensures perfect alignment with zero manual synchronization code.</p><h2 id=crossreferences>Cross‚ÄëReferences</h2><ul><li>Placement Rules Pipeline: <code>systems/placement_rules.md</code></li><li>Context & State Overview: <code>systems/context_and_state.md</code></li><li>Configuration & Settings: <code>systems/configuration_and_settings.md</code></li><li>Input & Actions: <code>systems/input_and_actions.md</code></li><li>Building System Process: <code>systems/building_system_process.md</code></li><li><strong><a href=./rotation-transfer-fix/>Rotation Transfer Fix</a></strong> - Critical fix for rotated object handling</li></ul><hr><p>Support / Purchase Hub: <strong><a href=https://linktr.ee/gridbuilder>Linktree ‚Äì All Grid Builder Links</a></strong></p></div></main><aside class=gb-toc><div class=gb-toc-title>On this page</div><nav id=TableOfContents><ul><li><a href=#rotation--variant-handling>Rotation & Variant Handling</a><ul><li><a href=#grid-aware-rotation-system>Grid-Aware Rotation System</a></li><li><a href=#variant-changes>Variant Changes</a></li></ul></li><li><a href=#interaction-with-placement-chain>Interaction with Placement Chain</a></li><li><a href=#event-flow>Event Flow</a></li><li><a href=#post-placement-commands-move--demolish--info>Post-Placement Commands (Move / Demolish / Info)</a></li><li><a href=#automatic-cancellation--cleanup>Automatic Cancellation & Cleanup</a><ul><li><a href=#-edge-case-protection>üõ°Ô∏è Edge Case Protection</a></li></ul></li><li><a href=#performance-notes>Performance Notes</a></li><li><a href=#extensibility>Extensibility</a></li><li><a href=#how-rotation--indicators-work>How Rotation & Indicators Work</a><ul><li><a href=#polygon-based-collision-why-its-better-than-aabb>Polygon-Based Collision (Why It&rsquo;s Better Than AABB)</a></li><li><a href=#implementation-normalize--calculate--display>Implementation: Normalize ‚Üí Calculate ‚Üí Display</a></li><li><a href=#transform-inheritance-architecture>Transform Inheritance Architecture</a></li></ul></li><li><a href=#crossreferences>Cross‚ÄëReferences</a></li></ul></nav></aside><footer class=gb-footer><p>&copy; 2025 Chris Tutorials. All rights reserved.</p><p>Built with <a href=https://gohugo.io/ target=_blank>Hugo</a> and
<a href=https://godotengine.org/ target=_blank>Godot</a>.</p></footer></div></body></html>